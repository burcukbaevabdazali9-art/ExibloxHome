<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Windows 12</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;user-select:none;}
:root{
  --accent:#0078d4;--accent2:#60cdff;--bg1:rgba(15,20,35,0.92);
  --bg2:rgba(255,255,255,0.06);--border:rgba(255,255,255,0.10);
  --text:#fff;--text2:rgba(255,255,255,0.55);--radius:12px;
  --shadow:0 12px 48px rgba(0,0,0,0.55);--blur:blur(40px);
}
body{font-family:'Segoe UI',system-ui,sans-serif;background:#000;overflow:hidden;width:100vw;height:100vh;color:var(--text);}

/* â”€â”€â”€ BOOT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#boot{position:fixed;inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:99999;}
.win-logo-svg{width:72px;height:72px;margin-bottom:48px;}
.boot-bar{width:180px;height:3px;background:rgba(255,255,255,0.1);border-radius:2px;overflow:hidden;}
.boot-fill{height:100%;background:var(--accent);border-radius:2px;animation:bootFill 2.2s ease forwards;}
@keyframes bootFill{0%{width:0}60%{width:70%}100%{width:100%}}

/* â”€â”€â”€ REGISTER/LOGIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#regscreen{
  position:fixed;inset:0;z-index:9990;display:none;align-items:center;justify-content:center;
  background:linear-gradient(135deg,#050d1a 0%,#0a1628 50%,#050d1a 100%);
}
.reg-box{
  background:rgba(255,255,255,0.05);backdrop-filter:var(--blur);
  border:1px solid var(--border);border-radius:20px;padding:40px;width:420px;
  box-shadow:var(--shadow);text-align:center;
}
.reg-box h2{font-size:26px;font-weight:300;margin-bottom:6px;}
.reg-box p{color:var(--text2);font-size:14px;margin-bottom:30px;}
.reg-avatar-pick{display:flex;gap:12px;justify-content:center;margin-bottom:24px;flex-wrap:wrap;}
.av-opt{width:48px;height:48px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:22px;border:3px solid transparent;transition:all .2s;}
.av-opt.sel{border-color:#fff;transform:scale(1.15);}
.reg-input{
  width:100%;background:rgba(255,255,255,0.08);border:1px solid var(--border);
  border-radius:10px;padding:12px 16px;color:#fff;font-size:14px;font-family:inherit;
  outline:none;margin-bottom:12px;transition:border .2s;
}
.reg-input:focus{border-color:var(--accent);}
.reg-input::placeholder{color:var(--text2);}
.reg-btn{
  width:100%;padding:12px;border-radius:10px;border:none;background:var(--accent);
  color:#fff;font-size:15px;cursor:pointer;font-family:inherit;font-weight:500;
  transition:background .2s;margin-top:6px;
}
.reg-btn:hover{background:#106ebe;}
.reg-switch{color:var(--text2);font-size:13px;margin-top:16px;cursor:pointer;}
.reg-switch span{color:var(--accent2);}
.reg-err{color:#ff6b6b;font-size:13px;margin-top:8px;min-height:18px;}

/* â”€â”€â”€ LOCK SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#lockscreen{
  position:fixed;inset:0;z-index:9980;display:none;flex-direction:column;
  align-items:center;justify-content:center;cursor:pointer;
  background:linear-gradient(160deg,#040c1a 0%,#081428 40%,#0a1830 100%);
}
.lock-bg-glow{
  position:absolute;width:600px;height:600px;border-radius:50%;
  background:radial-gradient(circle,rgba(0,120,212,0.12) 0%,transparent 70%);
  top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;
  animation:glowPulse 4s ease-in-out infinite;
}
@keyframes glowPulse{0%,100%{opacity:.6;transform:translate(-50%,-50%) scale(1)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}}
#lock-clock{font-size:88px;font-weight:200;letter-spacing:6px;text-shadow:0 0 40px rgba(0,120,212,.3);}
#lock-date{font-size:20px;color:var(--text2);margin-bottom:50px;font-weight:300;}
.lock-user{display:flex;flex-direction:column;align-items:center;gap:14px;}
#lock-avatar{width:72px;height:72px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:36px;box-shadow:0 0 0 3px rgba(255,255,255,0.2);}
#lock-username{font-size:18px;}
#lock-pin{display:flex;gap:10px;margin-top:10px;}
.pin-dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.25);transition:background .2s;}
.lock-hint{font-size:13px;color:rgba(255,255,255,.3);margin-top:20px;animation:pulse 2s ease infinite;}
@keyframes pulse{0%,100%{opacity:.3}50%{opacity:.8}}

/* â”€â”€â”€ DESKTOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#desktop{
  width:100%;height:calc(100% - 48px);position:relative;overflow:hidden;
  background:linear-gradient(160deg,#040c1a 0%,#061020 40%,#040c18 100%);
}
.desk-aurora{
  position:absolute;inset:0;pointer-events:none;
  background:conic-gradient(from 200deg at 30% 60%,transparent 0deg,rgba(0,80,180,.06) 60deg,rgba(0,150,255,.08) 100deg,rgba(60,0,180,.05) 150deg,transparent 200deg);
  animation:auroraRot 20s linear infinite;
}
@keyframes auroraRot{from{transform:rotate(0)}to{transform:rotate(360deg)}}
.desk-glow{
  position:absolute;width:700px;height:500px;border-radius:50%;
  background:radial-gradient(ellipse,rgba(0,100,200,.09) 0%,transparent 70%);
  top:20%;left:30%;pointer-events:none;
}

/* â”€â”€â”€ DESKTOP ICONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.desk-icon{
  position:absolute;display:flex;flex-direction:column;align-items:center;gap:6px;
  padding:8px 6px;width:82px;cursor:pointer;border-radius:10px;transition:background .15s;
}
.desk-icon:hover{background:rgba(255,255,255,.09);}
.desk-icon.selected{background:rgba(0,120,212,.35);}
.desk-icon .dico{font-size:38px;line-height:1;filter:drop-shadow(0 3px 8px rgba(0,0,0,.5));}
.desk-icon span{font-size:11.5px;color:#fff;text-align:center;text-shadow:0 1px 6px rgba(0,0,0,.9);line-height:1.3;word-break:break-word;}

/* â”€â”€â”€ TASKBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#taskbar{
  position:fixed;bottom:0;left:0;right:0;height:48px;
  background:rgba(8,12,22,.88);backdrop-filter:var(--blur);
  border-top:1px solid rgba(255,255,255,.07);
  display:flex;align-items:center;z-index:1000;
}
#tb-left{display:flex;align-items:center;padding-left:8px;gap:2px;}
#tb-center{position:absolute;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:3px;}
#tb-right{position:absolute;right:0;display:flex;align-items:center;padding-right:10px;gap:6px;}
.tb-btn{
  width:44px;height:38px;display:flex;align-items:center;justify-content:center;
  border-radius:8px;cursor:pointer;transition:background .15s;position:relative;font-size:20px;flex-shrink:0;
}
.tb-btn:hover{background:rgba(255,255,255,.1);}
.tb-btn.running::after{
  content:'';position:absolute;bottom:2px;left:50%;transform:translateX(-50%);
  width:4px;height:4px;border-radius:50%;background:var(--accent2);
}
.tb-btn.active-win{background:rgba(255,255,255,.13);}
#start-btn{width:44px;height:38px;display:flex;align-items:center;justify-content:center;border-radius:8px;cursor:pointer;transition:background .15s;}
#start-btn:hover{background:rgba(255,255,255,.1);}
.tb-sep{width:1px;height:22px;background:rgba(255,255,255,.1);margin:0 4px;}
#tb-clock{color:#fff;font-size:12px;text-align:right;cursor:pointer;line-height:1.5;padding:0 4px;}
.tb-sys{display:flex;align-items:center;gap:6px;font-size:14px;cursor:pointer;padding:4px 8px;border-radius:8px;transition:background .15s;}
.tb-sys:hover{background:rgba(255,255,255,.1);}

/* â”€â”€â”€ START MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#start-menu{
  position:fixed;bottom:56px;left:50%;transform:translateX(-50%) translateY(8px);
  width:680px;background:rgba(12,16,28,.95);backdrop-filter:var(--blur);
  border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);
  display:none;flex-direction:column;z-index:900;overflow:hidden;
  opacity:0;transition:opacity .18s,transform .18s;
}
#start-menu.show{opacity:1;transform:translateX(-50%) translateY(0);}
#sm-search{
  margin:18px 18px 0;display:flex;align-items:center;
  background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);
  border-radius:10px;padding:9px 14px;gap:10px;
}
#sm-search input{background:none;border:none;outline:none;color:#fff;font-size:14px;flex:1;font-family:inherit;}
#sm-search input::placeholder{color:var(--text2);}
.sm-sec{padding:14px 18px 8px;font-size:12px;color:var(--text2);letter-spacing:.5px;text-transform:uppercase;}
.pinned-apps{display:grid;grid-template-columns:repeat(6,1fr);gap:2px;padding:0 10px;}
.pin-app{
  display:flex;flex-direction:column;align-items:center;gap:6px;
  padding:14px 8px 10px;border-radius:10px;cursor:pointer;transition:background .15s;
}
.pin-app:hover{background:rgba(255,255,255,.1);}
.pin-app .ico{font-size:26px;}
.pin-app .lbl{font-size:11px;color:var(--text2);text-align:center;}
.rec-list{padding:0 12px;display:flex;flex-direction:column;gap:1px;}
.rec-row{
  display:flex;align-items:center;gap:12px;padding:8px 10px;
  border-radius:8px;cursor:pointer;transition:background .15s;
}
.rec-row:hover{background:rgba(255,255,255,.08);}
.rec-row .ico{font-size:22px;}
.rec-info .n{font-size:13px;}
.rec-info .t{font-size:11px;color:var(--text2);}
#sm-footer{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 18px;border-top:1px solid rgba(255,255,255,.07);margin-top:auto;
}
#sm-user{display:flex;align-items:center;gap:10px;cursor:pointer;padding:6px 10px;border-radius:8px;transition:background .15s;}
#sm-user:hover{background:rgba(255,255,255,.08);}
#sm-avatar{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;}
.power-menu{display:flex;gap:4px;}
.pw-btn{
  width:34px;height:34px;border-radius:8px;display:flex;align-items:center;
  justify-content:center;cursor:pointer;font-size:17px;transition:background .15s;color:var(--text2);
}
.pw-btn:hover{background:rgba(255,100,100,.3);color:#fff;}

/* â”€â”€â”€ TRAY POPUP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#tray-popup{
  position:fixed;bottom:56px;right:8px;width:360px;
  background:rgba(12,16,28,.96);backdrop-filter:var(--blur);
  border:1px solid var(--border);border-radius:16px;padding:18px;
  box-shadow:var(--shadow);display:none;z-index:900;
}
.tray-time-big{font-size:52px;font-weight:200;text-align:center;letter-spacing:2px;}
.tray-date-str{font-size:13px;color:var(--text2);text-align:center;margin-bottom:16px;}
.tray-tiles{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px;}
.tr-tile{
  background:rgba(0,120,212,.25);border-radius:12px;padding:12px 10px 8px;
  cursor:pointer;transition:all .15s;display:flex;flex-direction:column;gap:4px;
}
.tr-tile:hover{background:rgba(0,120,212,.4);}
.tr-tile.off{background:rgba(255,255,255,.06);}
.tr-tile .ico{font-size:18px;}
.tr-tile .lbl{font-size:11px;color:var(--text2);}
.sl-row{display:flex;align-items:center;gap:10px;margin:6px 0;}
.sl-row .ico{font-size:16px;flex-shrink:0;}
.sl-row input[type=range]{flex:1;accent-color:var(--accent);height:4px;}
.sl-val{font-size:12px;color:var(--text2);width:30px;text-align:right;}

/* â”€â”€â”€ CONTEXT MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#ctx-menu{
  position:fixed;z-index:9998;background:rgba(18,22,36,.96);backdrop-filter:var(--blur);
  border:1px solid var(--border);border-radius:var(--radius);padding:6px;
  min-width:210px;box-shadow:var(--shadow);display:none;
}
.ctx-item{
  padding:8px 14px;border-radius:8px;font-size:13px;color:#fff;cursor:pointer;
  display:flex;align-items:center;gap:10px;transition:background .1s;
}
.ctx-item:hover{background:rgba(255,255,255,.1);}
.ctx-item .ico{font-size:15px;width:18px;text-align:center;}
.ctx-sep{height:1px;background:rgba(255,255,255,.08);margin:4px 2px;}

/* â”€â”€â”€ WINDOWS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.window{
  position:absolute;background:var(--bg1);backdrop-filter:var(--blur);
  border:1px solid var(--border);border-radius:var(--radius);
  box-shadow:var(--shadow);display:flex;flex-direction:column;
  min-width:300px;min-height:180px;z-index:100;
  animation:winOpen .15s ease;
}
@keyframes winOpen{from{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}
.window.maximized{border-radius:0!important;top:0!important;left:0!important;width:100%!important;height:calc(100vh - 48px)!important;}
.titlebar{
  height:40px;display:flex;align-items:center;padding:0 10px;
  cursor:move;border-radius:var(--radius) var(--radius) 0 0;flex-shrink:0;
  background:rgba(255,255,255,.02);border-bottom:1px solid rgba(255,255,255,.05);
}
.tb-icon{font-size:16px;margin-right:8px;}
.tb-title{flex:1;font-size:13px;color:rgba(255,255,255,.8);}
.win-btns{display:flex;gap:2px;}
.wb{
  width:32px;height:28px;border-radius:6px;display:flex;align-items:center;
  justify-content:center;cursor:pointer;font-size:12px;color:var(--text2);
  transition:background .12s;
}
.wb:hover{background:rgba(255,255,255,.14);color:#fff;}
.wb.cls:hover{background:rgba(196,43,28,.85);color:#fff;}
.win-body{flex:1;overflow:auto;border-radius:0 0 var(--radius) var(--radius);}
.resize-handle{position:absolute;width:14px;height:14px;bottom:0;right:0;cursor:se-resize;}

/* â”€â”€â”€ EXPLORER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.exp-wrap{display:flex;flex-direction:column;height:100%;}
.exp-topbar{
  display:flex;align-items:center;gap:6px;padding:6px 10px;
  border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;
}
.exp-nav{
  width:28px;height:28px;border-radius:6px;display:flex;align-items:center;
  justify-content:center;cursor:pointer;color:var(--text2);transition:background .12s;font-size:14px;
}
.exp-nav:hover{background:var(--bg2);}
.exp-path{
  flex:1;background:rgba(255,255,255,.07);border:1px solid var(--border);
  border-radius:7px;padding:4px 12px;font-size:12px;color:var(--text2);
  cursor:text;outline:none;font-family:inherit;
}
.exp-body{display:flex;flex:1;overflow:hidden;}
.exp-side{
  width:175px;border-right:1px solid rgba(255,255,255,.05);
  padding:8px;overflow-y:auto;flex-shrink:0;background:rgba(0,0,0,.15);
}
.exp-side-item{
  padding:7px 10px;border-radius:7px;font-size:13px;color:var(--text2);
  cursor:pointer;display:flex;align-items:center;gap:8px;transition:background .12s;
}
.exp-side-item:hover{background:var(--bg2);}
.exp-side-item.active{background:rgba(0,120,212,.3);color:#fff;}
.exp-files{
  flex:1;padding:12px;display:grid;grid-template-columns:repeat(auto-fill,90px);
  gap:8px;align-content:start;overflow-y:auto;
}
.file-item{
  display:flex;flex-direction:column;align-items:center;gap:5px;padding:8px 6px;
  border-radius:8px;cursor:pointer;transition:background .12s;
}
.file-item:hover{background:var(--bg2);}
.file-item.selected{background:rgba(0,120,212,.3);}
.file-item .ico{font-size:34px;}
.file-item .fname{font-size:11px;color:var(--text2);text-align:center;word-break:break-all;}
.exp-statusbar{
  padding:4px 14px;font-size:11px;color:var(--text2);
  border-top:1px solid rgba(255,255,255,.05);flex-shrink:0;
}
.exp-toolbar-row{
  display:flex;align-items:center;gap:4px;padding:4px 8px;
  border-bottom:1px solid rgba(255,255,255,.05);flex-shrink:0;
}
.exp-tb-btn{
  padding:4px 10px;border-radius:6px;font-size:12px;color:var(--text2);
  cursor:pointer;transition:background .12s;display:flex;align-items:center;gap:4px;
}
.exp-tb-btn:hover{background:var(--bg2);}

/* â”€â”€â”€ NOTEPAD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.np-wrap{display:flex;flex-direction:column;height:100%;}
.np-menubar{display:flex;border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;}
.np-menu-item{
  padding:6px 12px;font-size:13px;color:var(--text2);cursor:pointer;
  transition:background .12s;position:relative;
}
.np-menu-item:hover,.np-menu-item.open{background:var(--bg2);}
.np-dropdown{
  position:absolute;top:100%;left:0;background:rgba(18,22,36,.98);
  border:1px solid var(--border);border-radius:8px;padding:4px;
  min-width:160px;z-index:9999;display:none;box-shadow:var(--shadow);
}
.np-menu-item.open .np-dropdown{display:block;}
.np-dd-item{
  padding:7px 12px;border-radius:6px;font-size:13px;color:#fff;
  cursor:pointer;display:flex;justify-content:space-between;align-items:center;
}
.np-dd-item:hover{background:var(--bg2);}
.np-dd-item kbd{font-size:11px;color:var(--text2);background:rgba(255,255,255,.08);padding:1px 5px;border-radius:4px;}
.np-dd-sep{height:1px;background:rgba(255,255,255,.08);margin:3px 0;}
#np-area{
  flex:1;background:rgba(8,10,18,.85);color:#dde8ff;border:none;outline:none;
  padding:16px;font-size:14px;font-family:'Consolas','Courier New',monospace;
  resize:none;line-height:1.7;
}
.np-statusbar{
  display:flex;gap:16px;padding:3px 12px;font-size:11px;color:var(--text2);
  border-top:1px solid rgba(255,255,255,.05);flex-shrink:0;
}

/* â”€â”€â”€ CALCULATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.calc-wrap{padding:14px;display:flex;flex-direction:column;gap:10px;height:100%;}
.calc-mode{display:flex;gap:2px;margin-bottom:2px;}
.calc-mode-btn{
  padding:5px 12px;border-radius:6px;font-size:12px;color:var(--text2);
  cursor:pointer;transition:background .12s;
}
.calc-mode-btn:hover,.calc-mode-btn.active{background:var(--bg2);color:#fff;}
.calc-display{
  background:rgba(0,0,0,.35);border-radius:10px;padding:12px 16px;
  display:flex;flex-direction:column;align-items:flex-end;
}
.calc-expr{font-size:13px;color:var(--text2);min-height:20px;word-break:break-all;}
.calc-result{font-size:40px;font-weight:300;min-height:54px;word-break:break-all;}
.calc-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:7px;flex:1;}
.cc{
  border-radius:10px;display:flex;align-items:center;justify-content:center;
  font-size:16px;cursor:pointer;transition:all .1s;color:#fff;
  min-height:48px;
}
.cc:hover{filter:brightness(1.2);}
.cc:active{transform:scale(.93);}
.cc-fn{background:rgba(255,255,255,.06);color:var(--text2);}
.cc-op{background:rgba(0,120,212,.3);}
.cc-eq{background:var(--accent);}
.cc-num{background:rgba(255,255,255,.09);}
.cc-span2{grid-column:span 2;}

/* â”€â”€â”€ SETTINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.set-wrap{display:flex;height:100%;}
.set-side{
  width:215px;border-right:1px solid rgba(255,255,255,.05);
  padding:10px;overflow-y:auto;background:rgba(0,0,0,.15);flex-shrink:0;
}
.set-side-item{
  padding:10px 14px;border-radius:8px;font-size:13px;color:var(--text2);
  cursor:pointer;display:flex;align-items:center;gap:10px;transition:background .12s;
}
.set-side-item:hover{background:var(--bg2);}
.set-side-item.active{background:rgba(0,120,212,.3);color:#fff;}
.set-content{flex:1;padding:24px;overflow-y:auto;}
.set-page{display:none;}
.set-page.active{display:block;}
.set-h1{font-size:22px;font-weight:300;margin-bottom:20px;}
.set-card{
  background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.07);
  border-radius:10px;padding:14px 18px;margin-bottom:8px;
  display:flex;align-items:center;justify-content:space-between;gap:16px;
}
.set-card-l .n{font-size:14px;}
.set-card-l .d{font-size:12px;color:var(--text2);margin-top:2px;}
.toggle{
  width:44px;height:24px;border-radius:12px;background:rgba(255,255,255,.15);
  position:relative;cursor:pointer;transition:background .2s;flex-shrink:0;
}
.toggle.on{background:var(--accent);}
.toggle::after{
  content:'';position:absolute;width:18px;height:18px;background:#fff;
  border-radius:50%;top:3px;left:3px;transition:transform .2s;box-shadow:0 1px 4px rgba(0,0,0,.4);
}
.toggle.on::after{transform:translateX(20px);}
.set-range-wrap{display:flex;align-items:center;gap:10px;margin-top:8px;}
.set-range-wrap input{flex:1;accent-color:var(--accent);}
.set-select{
  background:rgba(255,255,255,.08);border:1px solid var(--border);
  border-radius:8px;padding:6px 10px;color:#fff;font-size:13px;
  outline:none;font-family:inherit;cursor:pointer;
}
.set-select option{background:#111827;}

/* â”€â”€â”€ BROWSER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.br-wrap{display:flex;flex-direction:column;height:100%;}
.br-bar{
  display:flex;align-items:center;gap:6px;padding:7px 10px;
  border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;
}
.br-nav{
  width:28px;height:28px;border-radius:6px;display:flex;align-items:center;
  justify-content:center;cursor:pointer;color:var(--text2);font-size:14px;
  transition:background .12s;
}
.br-nav:hover{background:var(--bg2);}
.br-url-bar{
  flex:1;background:rgba(255,255,255,.07);border:1px solid var(--border);
  border-radius:20px;padding:5px 14px;font-size:13px;color:#fff;outline:none;
  font-family:inherit;
}
.br-newtab{
  flex:1;padding:30px 20px;display:flex;flex-direction:column;align-items:center;gap:20px;
  overflow-y:auto;
}
.br-greeting{font-size:26px;font-weight:300;color:#fff;}
.br-searchbar{
  display:flex;align-items:center;background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14);border-radius:28px;
  padding:10px 20px;gap:10px;width:560px;max-width:100%;
}
.br-searchbar input{background:none;border:none;outline:none;color:#fff;font-size:15px;flex:1;font-family:inherit;}
.br-searchbar button{background:var(--accent);border:none;color:#fff;padding:7px 18px;border-radius:18px;cursor:pointer;font-size:13px;font-family:inherit;}
.br-shortcuts{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;width:560px;max-width:100%;}
.br-sc{
  background:rgba(255,255,255,.06);border-radius:12px;padding:14px 10px;
  display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;
  transition:background .12s;
}
.br-sc:hover{background:rgba(255,255,255,.12);}
.br-sc .ico{font-size:22px;}
.br-sc span{font-size:11px;color:var(--text2);}
.br-news{width:560px;max-width:100%;margin-top:10px;}
.br-news h3{font-size:14px;color:var(--text2);margin-bottom:10px;}
.br-article{
  background:rgba(255,255,255,.05);border-radius:10px;padding:12px;
  margin-bottom:8px;cursor:pointer;transition:background .12s;
}
.br-article:hover{background:rgba(255,255,255,.09);}
.br-article h4{font-size:13px;margin-bottom:4px;}
.br-article p{font-size:12px;color:var(--text2);}
.br-frame{flex:1;width:100%;border:none;background:#fff;}

/* â”€â”€â”€ TASK MANAGER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.tm-wrap{display:flex;flex-direction:column;height:100%;}
.tm-tabs{display:flex;border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;}
.tm-tab{
  padding:10px 18px;font-size:13px;color:var(--text2);cursor:pointer;
  transition:all .12s;border-bottom:2px solid transparent;
}
.tm-tab:hover{color:#fff;}
.tm-tab.active{color:#fff;border-bottom-color:var(--accent);}
.tm-body{flex:1;padding:14px;overflow-y:auto;}
.tm-table{width:100%;border-collapse:collapse;font-size:13px;}
.tm-table th{text-align:left;padding:8px 12px;color:var(--text2);font-weight:400;border-bottom:1px solid rgba(255,255,255,.07);}
.tm-table td{padding:8px 12px;border-bottom:1px solid rgba(255,255,255,.04);}
.tm-table tr:hover td{background:rgba(255,255,255,.04);}
.tm-bar{height:6px;background:rgba(255,255,255,.1);border-radius:3px;overflow:hidden;}
.tm-fill{height:100%;border-radius:3px;background:var(--accent);}

/* â”€â”€â”€ PAINT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.paint-wrap{display:flex;flex-direction:column;height:100%;}
.paint-toolbar{
  display:flex;align-items:center;gap:8px;padding:8px 12px;
  border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;flex-wrap:wrap;
}
.paint-tool{
  width:34px;height:34px;border-radius:7px;display:flex;align-items:center;
  justify-content:center;cursor:pointer;font-size:17px;transition:background .12s;
}
.paint-tool:hover,.paint-tool.active{background:rgba(0,120,212,.35);}
.paint-colors{display:flex;gap:4px;flex-wrap:wrap;max-width:200px;}
.paint-color{
  width:20px;height:20px;border-radius:4px;cursor:pointer;
  border:2px solid transparent;transition:border .12s;
}
.paint-color.active{border-color:#fff;}
.paint-size{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--text2);}
.paint-size input{width:80px;accent-color:var(--accent);}
.paint-canvas-wrap{flex:1;overflow:hidden;background:#fff;position:relative;}
#paint-canvas{cursor:crosshair;display:block;}

/* â”€â”€â”€ NOTIFICATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#notif-stack{position:fixed;bottom:60px;right:14px;z-index:9990;display:flex;flex-direction:column;gap:8px;align-items:flex-end;}
.notif{
  background:rgba(18,22,36,.97);backdrop-filter:var(--blur);
  border:1px solid var(--border);border-radius:14px;padding:14px 16px;
  width:320px;box-shadow:var(--shadow);display:flex;gap:12px;align-items:flex-start;
  animation:notifSlide .3s ease;
}
@keyframes notifSlide{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}
.notif .nico{font-size:26px;flex-shrink:0;}
.notif-txt .nt{font-size:13px;font-weight:600;margin-bottom:3px;}
.notif-txt .nd{font-size:12px;color:var(--text2);}
.notif-close{margin-left:auto;cursor:pointer;color:var(--text2);font-size:16px;padding:2px;}
.notif-close:hover{color:#fff;}

/* â”€â”€â”€ SCROLLBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
::-webkit-scrollbar{width:5px;height:5px;}
::-webkit-scrollbar-track{background:transparent;}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.18);border-radius:3px;}
</style>
</head>
<body>

<!-- BOOT -->
<div id="boot">
  <svg class="win-logo-svg" viewBox="0 0 88 88">
    <rect x="4" y="4" width="38" height="38" rx="5" fill="#F35325"/>
    <rect x="46" y="4" width="38" height="38" rx="5" fill="#81BC06"/>
    <rect x="4" y="46" width="38" height="38" rx="5" fill="#05A6F0"/>
    <rect x="46" y="46" width="38" height="38" rx="5" fill="#FFBA08"/>
  </svg>
  <div class="boot-bar"><div class="boot-fill"></div></div>
</div>

<!-- REGISTER / LOGIN -->
<div id="regscreen" style="display:none;">
  <div class="reg-box" id="reg-box">
    <div style="font-size:48px;margin-bottom:10px;">ğŸªŸ</div>
    <h2>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ</h2>
    <p>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ Windows 12</p>
    <div class="reg-avatar-pick" id="av-pick">
      <div class="av-opt sel" data-av="ğŸ§‘" onclick="pickAv(this)">ğŸ§‘</div>
      <div class="av-opt" data-av="ğŸ‘©" onclick="pickAv(this)">ğŸ‘©</div>
      <div class="av-opt" data-av="ğŸ§”" onclick="pickAv(this)">ğŸ§”</div>
      <div class="av-opt" data-av="ğŸ‘¨â€ğŸ’»" onclick="pickAv(this)">ğŸ‘¨â€ğŸ’»</div>
      <div class="av-opt" data-av="ğŸ¦Š" onclick="pickAv(this)">ğŸ¦Š</div>
      <div class="av-opt" data-av="ğŸ±" onclick="pickAv(this)">ğŸ±</div>
      <div class="av-opt" data-av="ğŸ¤–" onclick="pickAv(this)">ğŸ¤–</div>
      <div class="av-opt" data-av="ğŸ®" onclick="pickAv(this)">ğŸ®</div>
    </div>
    <input class="reg-input" type="text" id="reg-name" placeholder="Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ" maxlength="20">
    <input class="reg-input" type="password" id="reg-pass" placeholder="ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 4 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°)">
    <input class="reg-input" type="password" id="reg-pass2" placeholder="ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ">
    <button class="reg-btn" onclick="doRegister()">Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚</button>
    <div class="reg-err" id="reg-err"></div>
    <div class="reg-switch" onclick="showLogin()">Ğ£Ğ¶Ğµ ĞµÑÑ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚? <span>Ğ’Ğ¾Ğ¹Ñ‚Ğ¸</span></div>
  </div>
  <div class="reg-box" id="login-box" style="display:none;">
    <div id="login-avatar" style="font-size:56px;margin-bottom:10px;">ğŸ§‘</div>
    <h2 id="login-name-disp">ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ</h2>
    <p>Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´Ğ°</p>
    <input class="reg-input" type="password" id="login-pass" placeholder="ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ" onkeydown="if(event.key==='Enter')doLogin()">
    <button class="reg-btn" onclick="doLogin()">Ğ’Ğ¾Ğ¹Ñ‚Ğ¸</button>
    <div class="reg-err" id="login-err"></div>
    <div class="reg-switch" onclick="showRegister()">Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚? <span>Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ</span></div>
  </div>
</div>

<!-- LOCK SCREEN -->
<div id="lockscreen" style="display:none;">
  <div class="lock-bg-glow"></div>
  <div id="lock-clock">12:00</div>
  <div id="lock-date-lock">ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº, 16 Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ</div>
  <div class="lock-user">
    <div id="lock-avatar">ğŸ§‘</div>
    <div id="lock-username-disp">ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ</div>
    <div id="lock-pin"></div>
    <div class="lock-hint">ğŸ”’ ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸</div>
  </div>
</div>

<!-- DESKTOP -->
<div id="desktop" oncontextmenu="showCtxMenu(event,'desktop')" onclick="desktopClick(event)">
  <div class="desk-aurora"></div>
  <div class="desk-glow"></div>

  <div class="desk-icon" style="top:16px;left:18px" ondblclick="openApp('explorer')" onclick="selectIcon(this)">
    <div class="dico">ğŸ’»</div><span>Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€</span>
  </div>
  <div class="desk-icon" style="top:114px;left:18px" ondblclick="openApp('notepad')" onclick="selectIcon(this)">
    <div class="dico">ğŸ“</div><span>Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚</span>
  </div>
  <div class="desk-icon" style="top:212px;left:18px" ondblclick="openApp('browser')" onclick="selectIcon(this)">
    <div class="dico">ğŸŒ</div><span>Edge</span>
  </div>
  <div class="desk-icon" style="top:310px;left:18px" ondblclick="openApp('calc')" onclick="selectIcon(this)">
    <div class="dico">ğŸ§®</div><span>ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€</span>
  </div>
  <div class="desk-icon" style="top:408px;left:18px" ondblclick="openApp('settings')" onclick="selectIcon(this)">
    <div class="dico">âš™ï¸</div><span>ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹</span>
  </div>
  <div class="desk-icon" style="top:16px;left:120px" ondblclick="openApp('paint')" onclick="selectIcon(this)">
    <div class="dico">ğŸ¨</div><span>Paint</span>
  </div>
  <div class="desk-icon" style="top:114px;left:120px" ondblclick="openApp('taskman')" onclick="selectIcon(this)">
    <div class="dico">ğŸ“Š</div><span>Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ Ğ·Ğ°Ğ´Ğ°Ñ‡</span>
  </div>
</div>

<!-- TASKBAR -->
<div id="taskbar">
  <div id="tb-left">
    <div id="start-btn" onclick="toggleStart(event)" title="ĞŸÑƒÑĞº">
      <svg width="20" height="20" viewBox="0 0 88 88">
        <rect x="2" y="2" width="38" height="38" rx="4" fill="#F35325"/>
        <rect x="48" y="2" width="38" height="38" rx="4" fill="#81BC06"/>
        <rect x="2" y="48" width="38" height="38" rx="4" fill="#05A6F0"/>
        <rect x="48" y="48" width="38" height="38" rx="4" fill="#FFBA08"/>
      </svg>
    </div>
    <div class="tb-sep"></div>
  </div>
  <div id="tb-center">
    <div class="tb-btn" title="ĞŸĞ¾Ğ¸ÑĞº" onclick="toggleStart(event)">ğŸ”</div>
    <div class="tb-btn" id="tb-explorer" title="ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº" ondblclick="openApp('explorer')">ğŸ“</div>
    <div class="tb-btn" id="tb-browser" title="Edge" ondblclick="openApp('browser')">ğŸŒ</div>
    <div class="tb-btn" id="tb-notepad" title="Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚" ondblclick="openApp('notepad')">ğŸ“</div>
    <div class="tb-btn" id="tb-calc" title="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€" ondblclick="openApp('calc')">ğŸ§®</div>
    <div class="tb-btn" id="tb-paint" title="Paint" ondblclick="openApp('paint')">ğŸ¨</div>
    <div class="tb-btn" id="tb-settings" title="ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹" ondblclick="openApp('settings')">âš™ï¸</div>
    <div class="tb-btn" id="tb-taskman" title="Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ Ğ·Ğ°Ğ´Ğ°Ñ‡" ondblclick="openApp('taskman')">ğŸ“Š</div>
  </div>
  <div id="tb-right">
    <div class="tb-sys" onclick="toggleTray(event)" title="Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğ¹ Ğ»Ğ¾Ñ‚Ğ¾Ğº">
      <span id="tb-wifi">ğŸ“¶</span>
      <span id="tb-vol">ğŸ”Š</span>
      <span id="tb-bat">ğŸ”‹</span>
    </div>
    <div id="tb-clock" onclick="toggleTray(event)">
      <div id="clock-time">12:00</div>
      <div id="clock-date-tb">16.02.2026</div>
    </div>
    <div style="width:6px;"></div>
  </div>
</div>

<!-- START MENU -->
<div id="start-menu" onclick="event.stopPropagation()">
  <div id="sm-search">
    <span>ğŸ”</span>
    <input type="text" id="sm-search-input" placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°..." oninput="smSearch(this.value)">
  </div>
  <div id="sm-pinned-sec">
    <div class="sm-sec">Ğ—Ğ°ĞºÑ€ĞµĞ¿Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ</div>
    <div class="pinned-apps">
      <div class="pin-app" ondblclick="openApp('explorer');hideAll()"><div class="ico">ğŸ“</div><div class="lbl">ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº</div></div>
      <div class="pin-app" ondblclick="openApp('settings');hideAll()"><div class="ico">âš™ï¸</div><div class="lbl">ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹</div></div>
      <div class="pin-app" ondblclick="openApp('browser');hideAll()"><div class="ico">ğŸŒ</div><div class="lbl">Edge</div></div>
      <div class="pin-app" ondblclick="openApp('notepad');hideAll()"><div class="ico">ğŸ“</div><div class="lbl">Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚</div></div>
      <div class="pin-app" ondblclick="openApp('calc');hideAll()"><div class="ico">ğŸ§®</div><div class="lbl">ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€</div></div>
      <div class="pin-app" ondblclick="openApp('paint');hideAll()"><div class="ico">ğŸ¨</div><div class="lbl">Paint</div></div>
      <div class="pin-app" ondblclick="openApp('taskman');hideAll()"><div class="ico">ğŸ“Š</div><div class="lbl">Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€</div></div>
      <div class="pin-app" onclick="showNotif('ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½','ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ...','ğŸ›’')"><div class="ico">ğŸ›’</div><div class="lbl">ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½</div></div>
      <div class="pin-app" onclick="showNotif('ĞŸĞ¾Ñ‡Ñ‚Ğ°','ĞĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ¸ÑĞµĞ¼','âœ‰ï¸')"><div class="ico">âœ‰ï¸</div><div class="lbl">ĞŸĞ¾Ñ‡Ñ‚Ğ°</div></div>
      <div class="pin-app" onclick="showNotif('Ğ¤Ğ¾Ñ‚Ğ¾','ĞĞµÑ‚ Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¹','ğŸ–¼ï¸')"><div class="ico">ğŸ–¼ï¸</div><div class="lbl">Ğ¤Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸</div></div>
      <div class="pin-app" onclick="showNotif('Xbox','ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ...','ğŸ®')"><div class="ico">ğŸ®</div><div class="lbl">Xbox</div></div>
      <div class="pin-app" onclick="showNotif('ĞšĞ°Ğ¼ĞµÑ€Ğ°','ĞšĞ°Ğ¼ĞµÑ€Ğ° Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°','ğŸ“¸')"><div class="ico">ğŸ“¸</div><div class="lbl">ĞšĞ°Ğ¼ĞµÑ€Ğ°</div></div>
    </div>
  </div>
  <div class="sm-sec">Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğµ</div>
  <div class="rec-list" id="sm-rec-list">
    <div class="rec-row" ondblclick="openApp('notepad');hideAll()"><div class="ico">ğŸ“</div><div class="rec-info"><div class="n">Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸</div><div class="t">Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ñ‚Ğ¾</div></div></div>
    <div class="rec-row" ondblclick="openApp('paint');hideAll()"><div class="ico">ğŸ¨</div><div class="rec-info"><div class="n">Ğ Ğ¸ÑÑƒĞ½Ğ¾Ğº1.png</div><div class="t">Ğ’Ñ‡ĞµÑ€Ğ°</div></div></div>
    <div class="rec-row"><div class="ico">ğŸ“Š</div><div class="rec-info"><div class="n">ĞÑ‚Ñ‡Ñ‘Ñ‚_2026.xlsx</div><div class="t">3 Ğ´Ğ½Ñ Ğ½Ğ°Ğ·Ğ°Ğ´</div></div></div>
  </div>
  <div id="sm-footer">
    <div id="sm-user" onclick="openApp('settings');hideAll()">
      <div id="sm-avatar" class="sm-avatar-ico">ğŸ§‘</div>
      <span id="sm-username">ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ</span>
    </div>
    <div class="power-menu">
      <div class="pw-btn" title="Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ°" onclick="lockScreen()">ğŸ”’</div>
      <div class="pw-btn" title="ĞŸĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°" onclick="reboot()">ğŸ”„</div>
      <div class="pw-btn" title="Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ" onclick="shutdown()">â»</div>
    </div>
  </div>
</div>

<!-- TRAY POPUP -->
<div id="tray-popup" onclick="event.stopPropagation()">
  <div class="tray-time-big" id="tray-time-big">12:00</div>
  <div class="tray-date-str" id="tray-date-str">ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº, 16 Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ 2026</div>
  <div class="tray-tiles">
    <div class="tr-tile on" id="tr-wifi" onclick="toggleTile('tr-wifi','WiFi')"><div class="ico">ğŸ“¶</div><div class="lbl">Wi-Fi</div></div>
    <div class="tr-tile on" id="tr-bt" onclick="toggleTile('tr-bt','Bluetooth')"><div class="ico">ğŸ”µ</div><div class="lbl">Bluetooth</div></div>
    <div class="tr-tile off" id="tr-airplane" onclick="toggleTile('tr-airplane','ĞĞ²Ğ¸Ğ°Ñ€ĞµĞ¶Ğ¸Ğ¼')"><div class="ico">âœˆï¸</div><div class="lbl">ĞĞ²Ğ¸Ğ°Ñ€ĞµĞ¶Ğ¸Ğ¼</div></div>
    <div class="tr-tile" id="tr-night" onclick="toggleNightMode()"><div class="ico">ğŸŒ™</div><div class="lbl">ĞĞ¾Ñ‡Ğ½Ğ¾Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼</div></div>
    <div class="tr-tile on" id="tr-sound" onclick="toggleTile('tr-sound','Ğ—Ğ²ÑƒĞº')"><div class="ico">ğŸ”Š</div><div class="lbl">Ğ—Ğ²ÑƒĞº</div></div>
    <div class="tr-tile off" id="tr-focus" onclick="toggleTile('tr-focus','Ğ¤Ğ¾ĞºÑƒÑ')"><div class="ico">ğŸ¯</div><div class="lbl">Ğ¤Ğ¾ĞºÑƒÑ</div></div>
  </div>
  <div class="sl-row">
    <span class="ico">ğŸ”†</span>
    <input type="range" min="10" max="100" value="85" id="bright-sl" oninput="setBright(this.value)">
    <span class="sl-val" id="bright-val">85%</span>
  </div>
  <div class="sl-row">
    <span class="ico">ğŸ”Š</span>
    <input type="range" min="0" max="100" value="60" id="vol-sl" oninput="setVol(this.value)">
    <span class="sl-val" id="vol-val">60%</span>
  </div>
</div>

<!-- CONTEXT MENU -->
<div id="ctx-menu">
  <div class="ctx-item" id="ctx-new-file" onclick="ctxNewFile()"><span class="ico">ğŸ“„</span>ĞĞ¾Ğ²Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»</div>
  <div class="ctx-item" onclick="ctxRefresh()"><span class="ico">ğŸ”ƒ</span>ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ</div>
  <div class="ctx-sep"></div>
  <div class="ctx-item" onclick="openApp('settings');hideAll()"><span class="ico">âš™ï¸</span>ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ ÑĞºÑ€Ğ°Ğ½Ğ°</div>
  <div class="ctx-item" onclick="openApp('paint');hideAll()"><span class="ico">ğŸ¨</span>ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ</div>
  <div class="ctx-sep"></div>
  <div class="ctx-item" onclick="openApp('explorer');hideAll()"><span class="ico">ğŸ“</span>ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº</div>
</div>

<!-- â”€â”€â”€ APP WINDOWS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

<!-- FILE EXPLORER -->
<div class="window" id="win-explorer" style="width:760px;height:500px;top:70px;left:140px;display:none;" onclick="bringFront('win-explorer')">
  <div class="titlebar" onmousedown="dragWin(event,'win-explorer')">
    <span class="tb-icon">ğŸ“</span><span class="tb-title">ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('explorer')">â”€</div>
      <div class="wb" onclick="toggleMax('win-explorer')">â¬œ</div>
      <div class="wb cls" onclick="closeWin('explorer')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="exp-wrap">
      <div class="exp-topbar">
        <div class="exp-nav" onclick="expNavBack()">â†</div>
        <div class="exp-nav" onclick="expNavForward()">â†’</div>
        <div class="exp-nav" onclick="expNavUp()">â†‘</div>
        <input class="exp-path" id="exp-path" value="Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€" onkeydown="if(event.key==='Enter')expNav(this.value)" readonly>
        <div class="exp-nav" style="width:auto;padding:0 8px;font-size:12px;" onclick="showNotif('ĞŸĞ¾Ğ¸ÑĞº','Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ² ÑÑ‚Ñ€Ğ¾ĞºÑƒ Ğ¿ÑƒÑ‚Ğ¸','ğŸ”')">ğŸ”</div>
      </div>
      <div class="exp-toolbar-row">
        <div class="exp-tb-btn" onclick="expNewFolder()">ğŸ“ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ğ¿ĞºÑƒ</div>
        <div class="exp-tb-btn" onclick="expNewFile()">ğŸ“„ ĞĞ¾Ğ²Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»</div>
        <div class="exp-tb-btn" onclick="expDelete()">ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ</div>
        <div class="exp-tb-btn" onclick="expRename()">âœï¸ ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ñ‚ÑŒ</div>
        <div style="flex:1"></div>
        <div class="exp-tb-btn" onclick="toggleExpView()">âŠ Ğ’Ğ¸Ğ´</div>
      </div>
      <div class="exp-body">
        <div class="exp-side">
          <div class="exp-side-item active" onclick="expGoto('home')">â­ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿</div>
          <div class="exp-side-item" onclick="expGoto('pc')">ğŸ’» Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€</div>
          <div class="exp-side-item" onclick="expGoto('desktop')">ğŸ–¥ï¸ Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ ÑÑ‚Ğ¾Ğ»</div>
          <div class="exp-side-item" onclick="expGoto('downloads')">ğŸ“¥ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸</div>
          <div class="exp-side-item" onclick="expGoto('documents')">ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</div>
          <div class="exp-side-item" onclick="expGoto('pictures')">ğŸ–¼ï¸ Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ</div>
          <div class="exp-side-item" onclick="expGoto('music')">ğŸµ ĞœÑƒĞ·Ñ‹ĞºĞ°</div>
          <div class="exp-side-item" onclick="expGoto('videos')">ğŸ¬ Ğ’Ğ¸Ğ´ĞµĞ¾</div>
          <div class="exp-side-item" onclick="expGoto('trash')">ğŸ—‘ï¸ ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°</div>
        </div>
        <div class="exp-files" id="exp-files" ondblclick="expFileDblClick(event)" oncontextmenu="showCtxMenu(event,'exp')"></div>
      </div>
      <div class="exp-statusbar" id="exp-status">Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ»</div>
    </div>
  </div>
  <div class="resize-handle" onmousedown="resizeWin(event,'win-explorer')"></div>
</div>

<!-- NOTEPAD -->
<div class="window" id="win-notepad" style="width:600px;height:440px;top:90px;left:200px;display:none;" onclick="bringFront('win-notepad')">
  <div class="titlebar" onmousedown="dragWin(event,'win-notepad')">
    <span class="tb-icon">ğŸ“</span><span class="tb-title" id="np-title">Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” Ğ‘ĞµĞ· Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('notepad')">â”€</div>
      <div class="wb" onclick="toggleMax('win-notepad')">â¬œ</div>
      <div class="wb cls" onclick="closeWin('notepad')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="np-wrap">
      <div class="np-menubar">
        <div class="np-menu-item" id="npm-file" onclick="toggleNpMenu('npm-file')">Ğ¤Ğ°Ğ¹Ğ»
          <div class="np-dropdown">
            <div class="np-dd-item" onclick="npNew()">Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ <kbd>Ctrl+N</kbd></div>
            <div class="np-dd-item" onclick="npOpen()">ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ... <kbd>Ctrl+O</kbd></div>
            <div class="np-dd-item" onclick="npSave()">Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ <kbd>Ctrl+S</kbd></div>
            <div class="np-dd-item" onclick="npSaveAs()">Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ°Ğº...</div>
            <div class="np-dd-sep"></div>
            <div class="np-dd-item" onclick="npPrint()">ĞŸĞµÑ‡Ğ°Ñ‚ÑŒ <kbd>Ctrl+P</kbd></div>
            <div class="np-dd-sep"></div>
            <div class="np-dd-item" onclick="closeWin('notepad')">Ğ’Ñ‹Ñ…Ğ¾Ğ´</div>
          </div>
        </div>
        <div class="np-menu-item" id="npm-edit" onclick="toggleNpMenu('npm-edit')">ĞŸÑ€Ğ°Ğ²ĞºĞ°
          <div class="np-dropdown">
            <div class="np-dd-item" onclick="npUndo()">ĞÑ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ <kbd>Ctrl+Z</kbd></div>
            <div class="np-dd-sep"></div>
            <div class="np-dd-item" onclick="npCut()">Ğ’Ñ‹Ñ€ĞµĞ·Ğ°Ñ‚ÑŒ <kbd>Ctrl+X</kbd></div>
            <div class="np-dd-item" onclick="npCopy()">ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ <kbd>Ctrl+C</kbd></div>
            <div class="np-dd-item" onclick="npPaste()">Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ <kbd>Ctrl+V</kbd></div>
            <div class="np-dd-sep"></div>
            <div class="np-dd-item" onclick="npSelectAll()">Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ²ÑÑ‘ <kbd>Ctrl+A</kbd></div>
            <div class="np-dd-sep"></div>
            <div class="np-dd-item" onclick="npFind()">ĞĞ°Ğ¹Ñ‚Ğ¸... <kbd>Ctrl+F</kbd></div>
          </div>
        </div>
        <div class="np-menu-item" id="npm-view" onclick="toggleNpMenu('npm-view')">Ğ’Ğ¸Ğ´
          <div class="np-dropdown">
            <div class="np-dd-item" onclick="npZoomIn()">Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ <kbd>Ctrl++</kbd></div>
            <div class="np-dd-item" onclick="npZoomOut()">Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞ¸Ñ‚ÑŒ <kbd>Ctrl+-</kbd></div>
            <div class="np-dd-item" onclick="npZoomReset()">ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ <kbd>Ctrl+0</kbd></div>
          </div>
        </div>
      </div>
      <textarea id="np-area" oninput="npChanged()" onkeydown="npKeydown(event)">Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Windows 12!

Ğ­Ñ‚Ğ¾ Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ½Ğ° HTML.

ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:
â€¢ ĞĞºĞºĞ°ÑƒĞ½Ñ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑÑĞ¸ÑĞ¼Ğ¸
â€¢ Ğ’ÑĞµ Ğ¾ĞºĞ½Ğ° Ğ¿ĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°ÑÑ‚ÑÑ Ğ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒÑÑ‚ÑÑ
â€¢ Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ñ‚ĞµĞºÑÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
â€¢ Paint Ğ´Ğ»Ñ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ
â€¢ Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ Ğ·Ğ°Ğ´Ğ°Ñ‡
â€¢ Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€

Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾ Ñ â¤ï¸</textarea>
      <div class="np-statusbar">
        <span id="np-ln">Ğ¡Ñ‚Ñ€ 1, Ğ¡Ñ‚Ğ± 1</span>
        <span id="np-enc">UTF-8</span>
        <span id="np-wrap-stat">ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ: Ğ’ĞºĞ»</span>
      </div>
    </div>
  </div>
  <div class="resize-handle" onmousedown="resizeWin(event,'win-notepad')"></div>
</div>

<!-- CALCULATOR -->
<div class="window" id="win-calc" style="width:310px;height:510px;top:70px;left:280px;display:none;" onclick="bringFront('win-calc')">
  <div class="titlebar" onmousedown="dragWin(event,'win-calc')">
    <span class="tb-icon">ğŸ§®</span><span class="tb-title">ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('calc')">â”€</div>
      <div class="wb cls" onclick="closeWin('calc')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="calc-wrap">
      <div class="calc-mode">
        <div class="calc-mode-btn active" onclick="setCalcMode('std',this)">ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹</div>
        <div class="calc-mode-btn" onclick="setCalcMode('sci',this)">Ğ˜Ğ½Ğ¶ĞµĞ½ĞµÑ€Ğ½Ñ‹Ğ¹</div>
      </div>
      <div class="calc-display">
        <div class="calc-expr" id="c-expr"></div>
        <div class="calc-result" id="c-res">0</div>
      </div>
      <div class="calc-grid" id="calc-grid-std">
        <div class="cc cc-fn" onclick="cFn('mc')">MC</div>
        <div class="cc cc-fn" onclick="cFn('mr')">MR</div>
        <div class="cc cc-fn" onclick="cFn('ms')">MS</div>
        <div class="cc cc-fn" onclick="cFn('m+')">M+</div>
        <div class="cc cc-fn" onclick="cFn('C')">C</div>
        <div class="cc cc-fn" onclick="cFn('CE')">CE</div>
        <div class="cc cc-fn" onclick="cFn('back')">âŒ«</div>
        <div class="cc cc-op" onclick="cOp('/')">Ã·</div>
        <div class="cc cc-num" onclick="cNum('7')">7</div>
        <div class="cc cc-num" onclick="cNum('8')">8</div>
        <div class="cc cc-num" onclick="cNum('9')">9</div>
        <div class="cc cc-op" onclick="cOp('*')">Ã—</div>
        <div class="cc cc-num" onclick="cNum('4')">4</div>
        <div class="cc cc-num" onclick="cNum('5')">5</div>
        <div class="cc cc-num" onclick="cNum('6')">6</div>
        <div class="cc cc-op" onclick="cOp('-')">âˆ’</div>
        <div class="cc cc-num" onclick="cNum('1')">1</div>
        <div class="cc cc-num" onclick="cNum('2')">2</div>
        <div class="cc cc-num" onclick="cNum('3')">3</div>
        <div class="cc cc-op" onclick="cOp('+')">+</div>
        <div class="cc cc-fn" onclick="cFn('sign')">Â±</div>
        <div class="cc cc-num" onclick="cNum('0')">0</div>
        <div class="cc cc-num" onclick="cNum('.')">.</div>
        <div class="cc cc-eq" onclick="cEq()">=</div>
      </div>
    </div>
  </div>
</div>

<!-- SETTINGS -->
<div class="window" id="win-settings" style="width:800px;height:550px;top:70px;left:110px;display:none;" onclick="bringFront('win-settings')">
  <div class="titlebar" onmousedown="dragWin(event,'win-settings')">
    <span class="tb-icon">âš™ï¸</span><span class="tb-title">ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('settings')">â”€</div>
      <div class="wb" onclick="toggleMax('win-settings')">â¬œ</div>
      <div class="wb cls" onclick="closeWin('settings')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="set-wrap">
      <div class="set-side">
        <div class="set-side-item active" onclick="setPage('home',this)">ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</div>
        <div class="set-side-item" onclick="setPage('account',this)">ğŸ‘¤ ĞĞºĞºĞ°ÑƒĞ½Ñ‚</div>
        <div class="set-side-item" onclick="setPage('personalize',this)">ğŸ¨ ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ</div>
        <div class="set-side-item" onclick="setPage('display',this)">ğŸ–¥ï¸ Ğ”Ğ¸ÑĞ¿Ğ»ĞµĞ¹</div>
        <div class="set-side-item" onclick="setPage('sound',this)">ğŸ”Š Ğ—Ğ²ÑƒĞº</div>
        <div class="set-side-item" onclick="setPage('network',this)">ğŸ“¶ Ğ¡ĞµÑ‚ÑŒ</div>
        <div class="set-side-item" onclick="setPage('privacy',this)">ğŸ”’ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ</div>
        <div class="set-side-item" onclick="setPage('update',this)">ğŸ”„ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ</div>
        <div class="set-side-item" onclick="setPage('about',this)">â„¹ï¸ Ğ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ</div>
      </div>
      <div class="set-content">
        <!-- HOME -->
        <div class="set-page active" id="sp-home">
          <div class="set-h1">ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Windows 12</div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ğŸ‘¤ ĞĞºĞºĞ°ÑƒĞ½Ñ‚</div><div class="d" id="set-user-info">ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ</div></div>
            <button class="reg-btn" style="width:auto;padding:7px 16px;font-size:13px;margin:0;" onclick="setPage('account',null)">Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ</button>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ğŸ”„ Windows Update</div><div class="d">Ğ’ĞµÑ€ÑĞ¸Ñ 24H2 Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ°</div></div>
            <button class="reg-btn" style="width:auto;padding:7px 16px;font-size:13px;margin:0;" onclick="showNotif('Windows Update','ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹...','ğŸ”„')">ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ</button>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ğŸ”‹ ĞŸĞ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑĞ¿ÑÑ‰Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼</div><div class="d">Ğ­ĞºÑ€Ğ°Ğ½ Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· 10 Ğ¼Ğ¸Ğ½</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
        </div>
        <!-- ACCOUNT -->
        <div class="set-page" id="sp-account">
          <div class="set-h1">ĞĞºĞºĞ°ÑƒĞ½Ñ‚</div>
          <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:12px;">
            <div style="display:flex;align-items:center;gap:14px;">
              <div id="set-av-disp" style="font-size:48px;">ğŸ§‘</div>
              <div>
                <div style="font-size:16px;" id="set-name-disp">ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ</div>
                <div style="font-size:12px;color:var(--text2);">Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ Â· ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€</div>
              </div>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap;" id="set-av-pick">
              <div class="av-opt" data-av="ğŸ§‘" onclick="changeAvatar(this)">ğŸ§‘</div>
              <div class="av-opt" data-av="ğŸ‘©" onclick="changeAvatar(this)">ğŸ‘©</div>
              <div class="av-opt" data-av="ğŸ§”" onclick="changeAvatar(this)">ğŸ§”</div>
              <div class="av-opt" data-av="ğŸ‘¨â€ğŸ’»" onclick="changeAvatar(this)">ğŸ‘¨â€ğŸ’»</div>
              <div class="av-opt" data-av="ğŸ¦Š" onclick="changeAvatar(this)">ğŸ¦Š</div>
              <div class="av-opt" data-av="ğŸ±" onclick="changeAvatar(this)">ğŸ±</div>
              <div class="av-opt" data-av="ğŸ¤–" onclick="changeAvatar(this)">ğŸ¤–</div>
              <div class="av-opt" data-av="ğŸ®" onclick="changeAvatar(this)">ğŸ®</div>
            </div>
            <input class="reg-input" id="set-new-name" placeholder="ĞĞ¾Ğ²Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ" style="margin:0;width:280px;">
            <div style="display:flex;gap:8px;">
              <button class="reg-btn" style="width:auto;padding:8px 18px;font-size:13px;margin:0;" onclick="saveAccountChanges()">Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ</button>
              <button class="reg-btn" style="width:auto;padding:8px 18px;font-size:13px;margin:0;background:rgba(255,50,50,.4);" onclick="deleteAccount()">Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚</button>
            </div>
          </div>
        </div>
        <!-- PERSONALIZE -->
        <div class="set-page" id="sp-personalize">
          <div class="set-h1">ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ</div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ¢Ñ‘Ğ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°</div><div class="d">Ğ¢Ñ‘Ğ¼Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ</div></div>
            <div class="toggle on" id="tog-dark" onclick="toggleDarkMode(this)"></div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ¦Ğ²ĞµÑ‚ Ğ°ĞºÑ†ĞµĞ½Ñ‚Ğ°</div><div class="d">Ğ¦Ğ²ĞµÑ‚ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²</div></div>
            <select class="set-select" onchange="setAccent(this.value)">
              <option value="#0078d4">Ğ¡Ğ¸Ğ½Ğ¸Ğ¹ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)</option>
              <option value="#107c41">Ğ—ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹</option>
              <option value="#e74c3c">ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹</option>
              <option value="#9b59b6">Ğ¤Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹</option>
              <option value="#e67e22">ĞÑ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹</option>
            </select>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ĞŸÑ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ</div><div class="d">Ğ­Ñ„Ñ„ĞµĞºÑ‚ Ñ€Ğ°Ğ·Ğ¼Ñ‹Ñ‚Ğ¸Ñ Ğ¾ĞºĞ¾Ğ½</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
        </div>
        <!-- DISPLAY -->
        <div class="set-page" id="sp-display">
          <div class="set-h1">Ğ”Ğ¸ÑĞ¿Ğ»ĞµĞ¹</div>
          <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:10px;">
            <div class="n">Ğ¯Ñ€ĞºĞ¾ÑÑ‚ÑŒ</div>
            <div class="set-range-wrap" style="width:100%;">
              <span>ğŸ”…</span>
              <input type="range" min="10" max="100" value="85" oninput="setBright(this.value);document.getElementById('bright-sl').value=this.value;document.getElementById('bright-val').textContent=this.value+'%'">
              <span>ğŸ”†</span>
            </div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ ÑĞºÑ€Ğ°Ğ½Ğ°</div><div class="d" id="res-display">1920 Ã— 1080 (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)</div></div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ĞĞ¾Ñ‡Ğ½Ğ¾Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼</div><div class="d">Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞ°ĞµÑ‚ ÑĞ¸Ğ½Ğ¸Ğ¹ ÑĞ²ĞµÑ‚</div></div>
            <div class="toggle" id="tog-night" onclick="toggleNightMode()"></div>
          </div>
        </div>
        <!-- SOUND -->
        <div class="set-page" id="sp-sound">
          <div class="set-h1">Ğ—Ğ²ÑƒĞº</div>
          <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:10px;">
            <div class="n">Ğ“Ñ€Ğ¾Ğ¼ĞºĞ¾ÑÑ‚ÑŒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹</div>
            <div class="set-range-wrap" style="width:100%;">
              <span>ğŸ”‡</span>
              <input type="range" min="0" max="100" value="60" oninput="setVol(this.value);document.getElementById('vol-sl').value=this.value">
              <span>ğŸ”Š</span>
            </div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Ğ·Ğ²ÑƒĞºĞ¸</div><div class="d">Ğ—Ğ²ÑƒĞºĞ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
        </div>
        <!-- NETWORK -->
        <div class="set-page" id="sp-network">
          <div class="set-h1">Ğ¡ĞµÑ‚ÑŒ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚</div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ğŸ“¶ Wi-Fi</div><div class="d">Windows12_Network Â· ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ğŸ”µ Bluetooth</div><div class="d">Ğ£ÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ² Ğ¿Ğ¾Ğ±Ğ»Ğ¸Ğ·Ğ¾ÑÑ‚Ğ¸ Ğ½ĞµÑ‚</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">âœˆï¸ ĞĞ²Ğ¸Ğ°Ñ€ĞµĞ¶Ğ¸Ğ¼</div><div class="d">ĞÑ‚ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ±ĞµÑĞ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸</div></div>
            <div class="toggle" onclick="this.classList.toggle('on')"></div>
          </div>
        </div>
        <!-- PRIVACY -->
        <div class="set-page" id="sp-privacy">
          <div class="set-h1">ĞšĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ</div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ° Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ</div><div class="d">ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</div></div>
            <div class="toggle" onclick="this.classList.toggle('on')"></div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ–ÑƒÑ€Ğ½Ğ°Ğ» Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹</div><div class="d">Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ Ğ² Windows</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">Ğ Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹</div><div class="d">ĞšĞ°Ğ¼ĞµÑ€Ğ°, Ğ¼Ğ¸ĞºÑ€Ğ¾Ñ„Ğ¾Ğ½, Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ</div></div>
            <button class="reg-btn" style="width:auto;padding:7px 14px;font-size:12px;margin:0;" onclick="showNotif('Ğ Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ','ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ñ‹','ğŸ”’')">ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ</button>
          </div>
        </div>
        <!-- UPDATE -->
        <div class="set-page" id="sp-update">
          <div class="set-h1">Ğ¦ĞµĞ½Ñ‚Ñ€ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Windows</div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">âœ… Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°</div><div class="d">Windows 12 Pro Â· Ğ’ĞµÑ€ÑĞ¸Ñ 24H2 Â· Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° 26100</div></div>
            <button class="reg-btn" style="width:auto;padding:7px 16px;font-size:13px;margin:0;" onclick="showNotif('Windows Update','ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹...','ğŸ”„')">ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ</button>
          </div>
          <div class="set-card">
            <div class="set-card-l"><div class="n">ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ</div><div class="d">Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸</div></div>
            <div class="toggle on" onclick="this.classList.toggle('on')"></div>
          </div>
        </div>
        <!-- ABOUT -->
        <div class="set-page" id="sp-about">
          <div class="set-h1">Ğ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ</div>
          <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:6px;">
            <div style="font-size:18px;margin-bottom:4px;">ğŸªŸ Windows 12 Pro</div>
            <div style="font-size:13px;color:var(--text2);">Ğ’ĞµÑ€ÑĞ¸Ñ: 24H2</div>
            <div style="font-size:13px;color:var(--text2);">Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°: 26100.XXXX</div>
            <div style="font-size:13px;color:var(--text2);" id="about-user">ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ: â€”</div>
            <div style="font-size:13px;color:var(--text2);" id="about-screen">Ğ­ĞºÑ€Ğ°Ğ½: <span id="about-res"></span></div>
            <div style="font-size:13px;color:var(--text2);">Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº: HTML/JS ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="resize-handle" onmousedown="resizeWin(event,'win-settings')"></div>
</div>

<!-- BROWSER -->
<div class="window" id="win-browser" style="width:840px;height:570px;top:50px;left:90px;display:none;" onclick="bringFront('win-browser')">
  <div class="titlebar" onmousedown="dragWin(event,'win-browser')">
    <span class="tb-icon">ğŸŒ</span><span class="tb-title" id="br-title">Microsoft Edge â€” ĞĞ¾Ğ²Ğ°Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('browser')">â”€</div>
      <div class="wb" onclick="toggleMax('win-browser')">â¬œ</div>
      <div class="wb cls" onclick="closeWin('browser')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="br-wrap">
      <div class="br-bar">
        <div class="br-nav" onclick="brBack()">â†</div>
        <div class="br-nav" onclick="brForward()">â†’</div>
        <div class="br-nav" onclick="brRefresh()">â†»</div>
        <div class="br-nav" onclick="brHome()">ğŸ </div>
        <input class="br-url-bar" id="br-url" value="edge://newtab" onkeydown="if(event.key==='Enter')brNavigate(this.value)">
        <div class="br-nav" onclick="showNotif('Ğ˜Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ','Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ°','â­')">â˜†</div>
      </div>
      <div class="br-newtab" id="br-newtab">
        <div class="br-greeting" id="br-greeting">Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ!</div>
        <div class="br-searchbar">
          <span>ğŸ”</span>
          <input type="text" placeholder="ĞŸĞ¾Ğ¸ÑĞº Ğ² Bing Ğ¸Ğ»Ğ¸ Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ°Ğ´Ñ€ĞµÑ..." id="br-search-inp" onkeydown="if(event.key==='Enter')brSearch(this.value)">
          <button onclick="brSearch(document.getElementById('br-search-inp').value)">ĞŸĞ¾Ğ¸ÑĞº</button>
        </div>
        <div class="br-shortcuts">
          <div class="br-sc" onclick="showNotif('Edge','ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ½Ğ° YouTube...','â–¶ï¸')"><div class="ico">â–¶ï¸</div><span>YouTube</span></div>
          <div class="br-sc" onclick="brSearch('Google')"><div class="ico">ğŸ”</div><span>Google</span></div>
          <div class="br-sc" onclick="showNotif('Edge','Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹...','ğŸ“°')"><div class="ico">ğŸ“°</div><span>ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸</span></div>
          <div class="br-sc" onclick="showNotif('Edge','ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Wikipedia...','ğŸ“š')"><div class="ico">ğŸ“š</div><span>Wikipedia</span></div>
          <div class="br-sc" onclick="showNotif('Edge','ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ² GitHub...','ğŸ’»')"><div class="ico">ğŸ’»</div><span>GitHub</span></div>
        </div>
        <div class="br-news">
          <h3>ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸</h3>
          <div class="br-article" onclick="showNotif('Edge','ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸...','ğŸ“°')"><h4>Windows 12 Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸</h4><p>Microsoft Ğ²Ñ‹Ğ¿ÑƒÑÑ‚Ğ¸Ğ»Ğ° ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Â· 2 Ñ‡Ğ°ÑĞ° Ğ½Ğ°Ğ·Ğ°Ğ´</p></div>
          <div class="br-article" onclick="showNotif('Edge','ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸...','ğŸ“°')"><h4>Ğ˜Ğ˜ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ² ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº</h4><p>ĞĞ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Â· Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ</p></div>
          <div class="br-article" onclick="showNotif('Edge','ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸...','ğŸ“°')"><h4>Copilot Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ğ»ÑÑ Ğ´Ğ¾ Ğ²ĞµÑ€ÑĞ¸Ğ¸ 3.0</h4><p>Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° Ğ¸ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Â· Ğ’Ñ‡ĞµÑ€Ğ°</p></div>
        </div>
      </div>
    </div>
  </div>
  <div class="resize-handle" onmousedown="resizeWin(event,'win-browser')"></div>
</div>

<!-- PAINT -->
<div class="window" id="win-paint" style="width:780px;height:530px;top:60px;left:120px;display:none;" onclick="bringFront('win-paint')">
  <div class="titlebar" onmousedown="dragWin(event,'win-paint')">
    <span class="tb-icon">ğŸ¨</span><span class="tb-title">Paint</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('paint')">â”€</div>
      <div class="wb" onclick="toggleMax('win-paint')">â¬œ</div>
      <div class="wb cls" onclick="closeWin('paint')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="paint-wrap">
      <div class="paint-toolbar">
        <div class="paint-tool active" id="pt-pen" onclick="setPaintTool('pen',this)" title="ĞšĞ°Ñ€Ğ°Ğ½Ğ´Ğ°Ñˆ">âœï¸</div>
        <div class="paint-tool" id="pt-brush" onclick="setPaintTool('brush',this)" title="ĞšĞ¸ÑÑ‚ÑŒ">ğŸ–Œï¸</div>
        <div class="paint-tool" id="pt-eraser" onclick="setPaintTool('eraser',this)" title="Ğ›Ğ°ÑÑ‚Ğ¸Ğº">ğŸ§¹</div>
        <div class="paint-tool" id="pt-line" onclick="setPaintTool('line',this)" title="Ğ›Ğ¸Ğ½Ğ¸Ñ">â•±</div>
        <div class="paint-tool" id="pt-rect" onclick="setPaintTool('rect',this)" title="ĞŸÑ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸Ğº">â¬œ</div>
        <div class="paint-tool" id="pt-circle" onclick="setPaintTool('circle',this)" title="Ğ­Ğ»Ğ»Ğ¸Ğ¿Ñ">â­•</div>
        <div class="paint-tool" id="pt-fill" onclick="setPaintTool('fill',this)" title="Ğ—Ğ°Ğ»Ğ¸Ğ²ĞºĞ°">ğŸª£</div>
        <div style="width:1px;height:28px;background:rgba(255,255,255,.1);margin:0 4px;"></div>
        <div class="paint-colors">
          <div class="paint-color active" style="background:#000" onclick="setColor('#000',this)"></div>
          <div class="paint-color" style="background:#fff;border:1px solid rgba(255,255,255,.3)" onclick="setColor('#fff',this)"></div>
          <div class="paint-color" style="background:#e74c3c" onclick="setColor('#e74c3c',this)"></div>
          <div class="paint-color" style="background:#e67e22" onclick="setColor('#e67e22',this)"></div>
          <div class="paint-color" style="background:#f1c40f" onclick="setColor('#f1c40f',this)"></div>
          <div class="paint-color" style="background:#2ecc71" onclick="setColor('#2ecc71',this)"></div>
          <div class="paint-color" style="background:#0078d4" onclick="setColor('#0078d4',this)"></div>
          <div class="paint-color" style="background:#9b59b6" onclick="setColor('#9b59b6',this)"></div>
          <div class="paint-color" style="background:#1a1a2e" onclick="setColor('#1a1a2e',this)"></div>
          <div class="paint-color" style="background:#95a5a6" onclick="setColor('#95a5a6',this)"></div>
        </div>
        <div style="width:1px;height:28px;background:rgba(255,255,255,.1);margin:0 4px;"></div>
        <div class="paint-size">
          Ğ Ğ°Ğ·Ğ¼ĞµÑ€: <input type="range" min="1" max="40" value="3" oninput="paintSize=this.value;document.getElementById('ps-val').textContent=this.value+'px'">
          <span id="ps-val">3px</span>
        </div>
        <div style="margin-left:auto;display:flex;gap:6px;">
          <div class="paint-tool" onclick="paintClear()" title="ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ">ğŸ—‘ï¸</div>
          <div class="paint-tool" onclick="paintSave()" title="Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ">ğŸ’¾</div>
        </div>
      </div>
      <div class="paint-canvas-wrap" id="paint-canvas-wrap">
        <canvas id="paint-canvas"></canvas>
      </div>
    </div>
  </div>
  <div class="resize-handle" onmousedown="resizeWin(event,'win-paint')"></div>
</div>

<!-- TASK MANAGER -->
<div class="window" id="win-taskman" style="width:660px;height:460px;top:80px;left:180px;display:none;" onclick="bringFront('win-taskman')">
  <div class="titlebar" onmousedown="dragWin(event,'win-taskman')">
    <span class="tb-icon">ğŸ“Š</span><span class="tb-title">Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ Ğ·Ğ°Ğ´Ğ°Ñ‡</span>
    <div class="win-btns">
      <div class="wb" onclick="minimizeWin('taskman')">â”€</div>
      <div class="wb" onclick="toggleMax('win-taskman')">â¬œ</div>
      <div class="wb cls" onclick="closeWin('taskman')">âœ•</div>
    </div>
  </div>
  <div class="win-body">
    <div class="tm-wrap">
      <div class="tm-tabs">
        <div class="tm-tab active" onclick="tmTab('processes',this)">ĞŸÑ€Ğ¾Ñ†ĞµÑÑÑ‹</div>
        <div class="tm-tab" onclick="tmTab('performance',this)">ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ</div>
        <div class="tm-tab" onclick="tmTab('startup',this)">ĞĞ²Ñ‚Ğ¾Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°</div>
      </div>
      <div class="tm-body" id="tm-body"></div>
    </div>
  </div>
  <div class="resize-handle" onmousedown="resizeWin(event,'win-taskman')"></div>
</div>

<!-- NOTIFICATIONS -->
<div id="notif-stack"></div>

<script>
'use strict';
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GLOBALS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let currentUser = null;
let openWindows = {};
let zCounter = 200;
let nightMode = false;
let startOpen = false;
let trayOpen = false;
let selectedIcon = null;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BOOT & INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('load', () => {
  updateClock();
  setInterval(updateClock, 1000);
  setTimeout(afterBoot, 2600);
  document.getElementById('about-res').textContent = window.innerWidth + ' Ã— ' + window.innerHeight;
});

function afterBoot() {
  document.getElementById('boot').style.opacity = '0';
  setTimeout(() => document.getElementById('boot').remove(), 500);
  const saved = localStorage.getItem('w12_user');
  if (saved) {
    currentUser = JSON.parse(saved);
    showLockScreen();
  } else {
    showRegScreen();
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CLOCK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DAYS = ['Ğ’Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ','ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº','Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº','Ğ¡Ñ€ĞµĞ´Ğ°','Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³','ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°','Ğ¡ÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°'];
const MONTHS_G = ['ÑĞ½Ğ²Ğ°Ñ€Ñ','Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ','Ğ¼Ğ°Ñ€Ñ‚Ğ°','Ğ°Ğ¿Ñ€ĞµĞ»Ñ','Ğ¼Ğ°Ñ','Ğ¸ÑĞ½Ñ','Ğ¸ÑĞ»Ñ','Ğ°Ğ²Ğ³ÑƒÑÑ‚Ğ°','ÑĞµĞ½Ñ‚ÑĞ±Ñ€Ñ','Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ','Ğ½Ğ¾ÑĞ±Ñ€Ñ','Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ'];

function updateClock() {
  const n = new Date();
  const hm = pad(n.getHours()) + ':' + pad(n.getMinutes());
  const hms = hm + ':' + pad(n.getSeconds());
  const dateStr = pad(n.getDate()) + '.' + pad(n.getMonth()+1) + '.' + n.getFullYear();
  const longDate = DAYS[n.getDay()] + ', ' + n.getDate() + ' ' + MONTHS_G[n.getMonth()];
  const longDateFull = longDate + ' ' + n.getFullYear();

  set('clock-time', hm);
  set('clock-date-tb', dateStr);
  set('lock-clock', hm);
  set('lock-date-lock', longDate);
  set('tray-time-big', hms);
  set('tray-date-str', longDateFull);

  // Browser greeting
  const h = n.getHours();
  const g = h < 6 ? 'Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğ¹ Ğ½Ğ¾Ñ‡Ğ¸' : h < 12 ? 'Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğµ ÑƒÑ‚Ñ€Ğ¾' : h < 18 ? 'Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ' : 'Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ²ĞµÑ‡ĞµÑ€';
  set('br-greeting', g + (currentUser ? ', ' + currentUser.name + '!' : '!'));
}
function pad(x) { return String(x).padStart(2,'0'); }
function set(id, v) { const e = document.getElementById(id); if(e) e.textContent = v; }
function el(id) { return document.getElementById(id); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REGISTER / LOGIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let selectedAvatarReg = 'ğŸ§‘';

function showRegScreen() {
  el('regscreen').style.display = 'flex';
  el('reg-box').style.display = 'block';
  el('login-box').style.display = 'none';
}

function showLogin() {
  if (!currentUser && !localStorage.getItem('w12_user')) { showRegScreen(); return; }
  const u = JSON.parse(localStorage.getItem('w12_user') || '{}');
  el('login-avatar').textContent = u.avatar || 'ğŸ§‘';
  el('login-name-disp').textContent = u.name || 'ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ';
  el('reg-box').style.display = 'none';
  el('login-box').style.display = 'block';
}

function showRegister() {
  el('reg-box').style.display = 'block';
  el('login-box').style.display = 'none';
}

function pickAv(el_) {
  document.querySelectorAll('.av-opt').forEach(a => a.classList.remove('sel'));
  el_.classList.add('sel');
  selectedAvatarReg = el_.dataset.av;
}

function doRegister() {
  const name = el('reg-name').value.trim();
  const pass = el('reg-pass').value;
  const pass2 = el('reg-pass2').value;
  if (!name) { el('reg-err').textContent = 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ñ'; return; }
  if (pass.length < 4) { el('reg-err').textContent = 'ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 4 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°'; return; }
  if (pass !== pass2) { el('reg-err').textContent = 'ĞŸĞ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ÑÑ‚'; return; }

  const user = { name, pass, avatar: selectedAvatarReg, created: new Date().toISOString() };
  localStorage.setItem('w12_user', JSON.stringify(user));
  currentUser = user;
  el('regscreen').style.display = 'none';
  enterDesktop();
}

function doLogin() {
  const saved = JSON.parse(localStorage.getItem('w12_user') || '{}');
  const pass = el('login-pass').value;
  if (pass !== saved.pass) { el('login-err').textContent = 'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ'; return; }
  currentUser = saved;
  el('regscreen').style.display = 'none';
  el('lockscreen').style.display = 'none';
  enterDesktop();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LOCK SCREEN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showLockScreen() {
  if (!currentUser) currentUser = JSON.parse(localStorage.getItem('w12_user'));
  el('lock-avatar').textContent = currentUser.avatar || 'ğŸ§‘';
  el('lock-username-disp').textContent = currentUser.name;
  el('lockscreen').style.display = 'flex';
  el('lockscreen').onclick = () => {
    el('lockscreen').style.opacity = '0';
    el('lockscreen').style.transition = 'opacity .4s';
    setTimeout(() => { el('lockscreen').style.display = 'none'; enterDesktop(); }, 400);
  };
}

function enterDesktop() {
  updateUserUI();
  loadNotepadContent();
  initFileSystem();
  initPaint();
  tmRender('processes');
  showNotif('Windows 12', 'Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ, ' + currentUser.name + '!', 'ğŸªŸ');
  setTimeout(() => showNotif('Windows Update', 'Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ° Ğ´Ğ¾ Ğ²ĞµÑ€ÑĞ¸Ğ¸ 24H2', 'âœ…'), 2000);
}

function updateUserUI() {
  if (!currentUser) return;
  set('sm-username', currentUser.name);
  const avs = document.querySelectorAll('#sm-avatar,#lock-avatar,#set-av-disp,#login-avatar,#lock-avatar');
  avs.forEach(a => { if(a) a.textContent = currentUser.avatar || 'ğŸ§‘'; });
  el('sm-avatar').textContent = currentUser.avatar || 'ğŸ§‘';
  el('set-av-disp').textContent = currentUser.avatar || 'ğŸ§‘';
  el('set-name-disp').textContent = currentUser.name;
  el('set-user-info').textContent = currentUser.name + ' Â· ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€';
  el('about-user').textContent = 'ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ: ' + currentUser.name;
  if (el('set-new-name')) el('set-new-name').value = currentUser.name;
  if (el('br-greeting')) el('br-greeting').textContent = 'Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ, ' + currentUser.name + '!';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ACCOUNT SETTINGS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function changeAvatar(el_) {
  document.querySelectorAll('#set-av-pick .av-opt').forEach(a => a.classList.remove('sel'));
  el_.classList.add('sel');
  currentUser.avatar = el_.dataset.av;
  el('set-av-disp').textContent = el_.dataset.av;
}

function saveAccountChanges() {
  const newName = el('set-new-name').value.trim();
  if (newName) currentUser.name = newName;
  localStorage.setItem('w12_user', JSON.stringify(currentUser));
  updateUserUI();
  showNotif('ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹', 'ĞĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½', 'âœ…');
}

function deleteAccount() {
  if (!confirm('Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ¸ Ğ²ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ?')) return;
  localStorage.clear();
  location.reload();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// START / TRAY / HIDE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleStart(e) {
  e.stopPropagation();
  startOpen = !startOpen;
  const sm = el('start-menu');
  sm.style.display = startOpen ? 'flex' : 'none';
  setTimeout(() => sm.classList.toggle('show', startOpen), 10);
  if (startOpen) { trayOpen = false; el('tray-popup').style.display = 'none'; }
}

function toggleTray(e) {
  e.stopPropagation();
  trayOpen = !trayOpen;
  el('tray-popup').style.display = trayOpen ? 'block' : 'none';
  if (trayOpen) { startOpen = false; el('start-menu').style.display = 'none'; el('start-menu').classList.remove('show'); }
}

function hideAll() {
  startOpen = false; trayOpen = false;
  el('start-menu').style.display = 'none';
  el('start-menu').classList.remove('show');
  el('tray-popup').style.display = 'none';
  el('ctx-menu').style.display = 'none';
  document.querySelectorAll('.np-menu-item').forEach(m => m.classList.remove('open'));
}

function desktopClick(e) {
  hideAll();
  if (selectedIcon && !e.target.closest('.desk-icon')) {
    selectedIcon.classList.remove('selected');
    selectedIcon = null;
  }
}

function selectIcon(el_) {
  if (selectedIcon) selectedIcon.classList.remove('selected');
  el_.classList.add('selected');
  selectedIcon = el_;
  el_.focus && el_.focus();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONTEXT MENU
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showCtxMenu(e, type) {
  e.preventDefault();
  const m = el('ctx-menu');
  m.style.display = 'block';
  let x = e.clientX, y = e.clientY;
  if (x + 220 > window.innerWidth) x = window.innerWidth - 225;
  if (y + 220 > window.innerHeight - 48) y = window.innerHeight - 270;
  m.style.left = x + 'px';
  m.style.top = y + 'px';
  e.stopPropagation();
}

function ctxRefresh() { hideAll(); showNotif('Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ ÑÑ‚Ğ¾Ğ»','Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ ÑÑ‚Ğ¾Ğ» Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½','ğŸ”ƒ'); }
function ctxNewFile() { hideAll(); openApp('notepad'); npNew(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WINDOW MANAGEMENT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const APP_MAP = { explorer:'win-explorer', notepad:'win-notepad', calc:'win-calc', settings:'win-settings', browser:'win-browser', paint:'win-paint', taskman:'win-taskman' };

function openApp(app) {
  const winId = APP_MAP[app];
  if (!winId) return;
  const w = el(winId);
  if (!w) return;
  if (w.style.display === 'none' || w.style.display === '') {
    w.style.display = 'flex';
    w.style.opacity = '0';
    setTimeout(() => w.style.opacity = '1', 10);
    w.style.transition = 'opacity .15s';
    onWindowOpen(app);
  }
  bringFront(winId);
  openWindows[app] = true;
  el('tb-' + app) && el('tb-' + app).classList.add('running', 'active-win');
  hideAll();
}

function onWindowOpen(app) {
  if (app === 'paint') { setTimeout(initPaintCanvas, 100); }
  if (app === 'taskman') { tmRender('processes'); }
  if (app === 'settings') { updateUserUI(); el('about-res').textContent = window.innerWidth + ' Ã— ' + window.innerHeight; }
  if (app === 'explorer') { expGoto('home'); }
  if (app === 'browser') { brHome(); }
}

function closeWin(app) {
  const winId = APP_MAP[app];
  if (!winId) return;
  el(winId).style.display = 'none';
  openWindows[app] = false;
  const tb = el('tb-' + app);
  if (tb) { tb.classList.remove('running', 'active-win'); }
  if (app === 'notepad') saveNotepadContent();
}

function minimizeWin(app) {
  const winId = APP_MAP[app];
  if (!winId) return;
  el(winId).style.display = 'none';
  el('tb-' + app) && el('tb-' + app).classList.remove('active-win');
}

function toggleMax(winId) {
  const w = el(winId);
  if (w.classList.contains('maximized')) {
    w.classList.remove('maximized');
    if (w._prevStyle) { w.style.cssText = w._prevStyle; }
  } else {
    w._prevStyle = w.style.cssText;
    w.classList.add('maximized');
  }
}

function bringFront(winId) {
  el(winId).style.zIndex = ++zCounter;
  document.querySelectorAll('.window').forEach(w => w.classList.remove('active-win-border'));
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// DRAG
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let dragState = null;
function dragWin(e, winId) {
  if (e.target.closest('.win-btns')) return;
  const w = el(winId);
  if (w.classList.contains('maximized')) return;
  bringFront(winId);
  const r = w.getBoundingClientRect();
  dragState = { winId, ox: e.clientX - r.left, oy: e.clientY - r.top };
  e.preventDefault();
}
document.addEventListener('mousemove', e => {
  if (!dragState) { if (resState) doResize(e); return; }
  const w = el(dragState.winId);
  let nx = e.clientX - dragState.ox;
  let ny = e.clientY - dragState.oy;
  nx = Math.max(0, Math.min(nx, window.innerWidth - w.offsetWidth));
  ny = Math.max(0, Math.min(ny, window.innerHeight - 48 - 10));
  w.style.left = nx + 'px';
  w.style.top = ny + 'px';
});
document.addEventListener('mouseup', () => { dragState = null; resState = null; });

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// RESIZE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let resState = null;
function resizeWin(e, winId) {
  const w = el(winId);
  resState = { winId, sx: e.clientX, sy: e.clientY, sw: w.offsetWidth, sh: w.offsetHeight };
  e.stopPropagation(); e.preventDefault();
}
function doResize(e) {
  const w = el(resState.winId);
  w.style.width = Math.max(300, resState.sw + e.clientX - resState.sx) + 'px';
  w.style.height = Math.max(180, resState.sh + e.clientY - resState.sy) + 'px';
  if (resState.winId === 'win-paint') { setTimeout(initPaintCanvas, 50); }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// START MENU SEARCH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function smSearch(q) {
  const apps = ['ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº','Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚','ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€','Edge','ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹','Paint','Ğ”Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ Ğ·Ğ°Ğ´Ğ°Ñ‡'];
  const appKeys = ['explorer','notepad','calc','browser','settings','paint','taskman'];
  const icons = ['ğŸ“','ğŸ“','ğŸ§®','ğŸŒ','âš™ï¸','ğŸ¨','ğŸ“Š'];
  const pinned = el('sm-pinned-sec');
  if (!q) { pinned.style.display = ''; return; }
  pinned.style.display = 'none';
  const rec = el('sm-rec-list');
  rec.innerHTML = '';
  apps.forEach((a, i) => {
    if (a.toLowerCase().includes(q.toLowerCase())) {
      const d = document.createElement('div');
      d.className = 'rec-row';
      d.innerHTML = `<div class="ico">${icons[i]}</div><div class="rec-info"><div class="n">${a}</div><div class="t">ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ</div></div>`;
      d.ondblclick = () => { openApp(appKeys[i]); hideAll(); };
      rec.appendChild(d);
    }
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TRAY CONTROLS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleTile(id, label) {
  const t = el(id);
  t.classList.toggle('off');
  showNotif(label, t.classList.contains('off') ? label + ' Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ñ‘Ğ½' : label + ' Ğ²ĞºĞ»ÑÑ‡Ñ‘Ğ½', t.classList.contains('off') ? 'â­•' : 'âœ…');
}

function toggleNightMode() {
  nightMode = !nightMode;
  document.body.style.filter = nightMode ? 'sepia(0.25) hue-rotate(-20deg)' : '';
  el('tr-night').classList.toggle('off', !nightMode);
  el('tog-night') && el('tog-night').classList.toggle('on', nightMode);
  showNotif('ĞĞ¾Ñ‡Ğ½Ğ¾Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼', nightMode ? 'Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½' : 'Ğ’Ñ‹ĞºĞ»ÑÑ‡Ñ‘Ğ½', 'ğŸŒ™');
}

function setBright(v) {
  el('desktop').style.filter = `brightness(${v/100})`;
  el('bright-val') && (el('bright-val').textContent = v + '%');
  localStorage.setItem('w12_bright', v);
}

function setVol(v) {
  el('vol-val') && (el('vol-val').textContent = v + '%');
  localStorage.setItem('w12_vol', v);
}

function toggleDarkMode(tog) {
  tog.classList.toggle('on');
}

function setAccent(color) {
  document.documentElement.style.setProperty('--accent', color);
  localStorage.setItem('w12_accent', color);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SETTINGS PAGES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setPage(page, clickedEl) {
  document.querySelectorAll('.set-page').forEach(p => p.classList.remove('active'));
  const pg = el('sp-' + page);
  if (pg) pg.classList.add('active');
  document.querySelectorAll('.set-side-item').forEach(i => i.classList.remove('active'));
  if (clickedEl) clickedEl.classList.add('active');
  else {
    document.querySelectorAll('.set-side-item').forEach(i => {
      if (i.textContent.toLowerCase().includes(page.substring(0,4))) i.classList.add('active');
    });
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// POWER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function lockScreen() {
  hideAll();
  saveNotepadContent();
  el('lock-avatar').textContent = currentUser.avatar || 'ğŸ§‘';
  el('lock-username-disp').textContent = currentUser.name;
  const ls = el('lockscreen');
  ls.style.display = 'flex';
  ls.style.opacity = '0';
  ls.style.transition = 'opacity .4s';
  setTimeout(() => ls.style.opacity = '1', 10);
  ls.onclick = () => {
    ls.style.opacity = '0';
    setTimeout(() => { ls.style.display = 'none'; enterDesktop(); }, 400);
  };
}

function reboot() {
  saveNotepadContent();
  showNotif('Windows 12','ĞŸĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...','ğŸ”„');
  setTimeout(() => location.reload(), 1500);
}

function shutdown() {
  saveNotepadContent();
  document.body.innerHTML = '<div style="background:#000;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column;gap:20px;"><svg width="72" height="72" viewBox="0 0 88 88"><rect x="4" y="4" width="38" height="38" rx="5" fill="#F35325"/><rect x="46" y="4" width="38" height="38" rx="5" fill="#81BC06"/><rect x="4" y="46" width="38" height="38" rx="5" fill="#05A6F0"/><rect x="46" y="46" width="38" height="38" rx="5" fill="#FFBA08"/></svg><div style="color:rgba(255,255,255,.4);font-family:Segoe UI;font-size:16px;">Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ...</div></div>';
  setTimeout(() => location.reload(), 2500);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NOTIFICATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showNotif(title, msg, icon='ğŸ””') {
  const stack = el('notif-stack');
  const n = document.createElement('div');
  n.className = 'notif';
  n.innerHTML = `<div class="nico">${icon}</div><div class="notif-txt"><div class="nt">${title}</div><div class="nd">${msg}</div></div><div class="notif-close" onclick="this.parentElement.remove()">âœ•</div>`;
  stack.appendChild(n);
  setTimeout(() => { n.style.transition = 'opacity .4s,transform .4s'; n.style.opacity = '0'; n.style.transform = 'translateX(30px)'; setTimeout(() => n.remove(), 400); }, 4000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FILE EXPLORER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let expCurrentPath = 'home';
const FS = {};

function initFileSystem() {
  const saved = localStorage.getItem('w12_fs');
  if (saved) { Object.assign(FS, JSON.parse(saved)); }
  else {
    FS.home = [
      {type:'folder',name:'Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹'},
      {type:'folder',name:'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸'},
      {type:'folder',name:'Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ'},
      {type:'folder',name:'ĞœÑƒĞ·Ñ‹ĞºĞ°'},
      {type:'folder',name:'Ğ’Ğ¸Ğ´ĞµĞ¾'},
    ];
    FS.documents = [{type:'file',name:'Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸.txt',ext:'txt'},{type:'file',name:'ĞÑ‚Ñ‡Ñ‘Ñ‚.docx',ext:'docx'}];
    FS.downloads = [{type:'file',name:'setup.exe',ext:'exe'},{type:'file',name:'photo.jpg',ext:'jpg'}];
    FS.pictures = [{type:'file',name:'Ñ„Ğ¾Ñ‚Ğ¾1.jpg',ext:'jpg'},{type:'file',name:'wallpaper.png',ext:'png'}];
    FS.music = [{type:'file',name:'Ñ‚Ñ€ĞµĞº1.mp3',ext:'mp3'}];
    FS.videos = [{type:'file',name:'Ğ²Ğ¸Ğ´ĞµĞ¾1.mp4',ext:'mp4'}];
    FS.desktop = [];
    FS.pc = [{type:'drive',name:'Ğ”Ğ¸ÑĞº C: (Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°)'},{type:'drive',name:'Ğ”Ğ¸ÑĞº D: (Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ)'}];
    FS.trash = [];
    saveFS();
  }
}

function saveFS() { localStorage.setItem('w12_fs', JSON.stringify(FS)); }

const ICONS = { folder:'ğŸ“', txt:'ğŸ“', docx:'ğŸ“„', xlsx:'ğŸ“Š', pdf:'ğŸ“•', jpg:'ğŸ–¼ï¸', png:'ğŸ–¼ï¸', mp3:'ğŸµ', mp4:'ğŸ¬', exe:'âš™ï¸', drive:'ğŸ’¾', file:'ğŸ“„' };

function expGoto(path) {
  expCurrentPath = path;
  const labels = {home:'Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿',pc:'Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€',desktop:'Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ ÑÑ‚Ğ¾Ğ»',downloads:'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸',documents:'Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹',pictures:'Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ',music:'ĞœÑƒĞ·Ñ‹ĞºĞ°',videos:'Ğ’Ğ¸Ğ´ĞµĞ¾',trash:'ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°'};
  el('exp-path').value = labels[path] || path;

  document.querySelectorAll('.exp-side-item').forEach(i => i.classList.remove('active'));
  document.querySelectorAll('.exp-side-item').forEach(i => {
    if (i.textContent.trim().toLowerCase().includes((labels[path]||'').substring(0,4).toLowerCase())) i.classList.add('active');
  });

  renderExpFiles();
}

function renderExpFiles() {
  const fc = el('exp-files');
  const items = FS[expCurrentPath] || [];
  fc.innerHTML = '';
  items.forEach((item, idx) => {
    const ico = ICONS[item.ext || item.type] || 'ğŸ“„';
    const d = document.createElement('div');
    d.className = 'file-item';
    d.dataset.idx = idx;
    d.innerHTML = `<div class="ico">${ico}</div><div class="fname">${item.name}</div>`;
    d.onclick = () => { document.querySelectorAll('.file-item').forEach(f=>f.classList.remove('selected')); d.classList.add('selected'); el('exp-status').textContent = 'Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾: ' + item.name; };
    fc.appendChild(d);
  });
  el('exp-status').textContent = `ĞĞ±ÑŠĞµĞºÑ‚Ğ¾Ğ²: ${items.length}`;
}

function expFileDblClick(e) {
  const item = e.target.closest('.file-item');
  if (!item) return;
  const idx = parseInt(item.dataset.idx);
  const f = (FS[expCurrentPath]||[])[idx];
  if (!f) return;
  if (f.type === 'folder') { expGoto(f.name.toLowerCase().replace(/\s/g,'_')); return; }
  if (f.ext === 'txt') { openApp('notepad'); el('np-area').value = f.content || '(Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ»)'; el('np-title').textContent = 'Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” ' + f.name; return; }
  if (f.ext === 'jpg' || f.ext === 'png') { showNotif('Ğ¤Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸','ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ: '+f.name,'ğŸ–¼ï¸'); return; }
  if (f.ext === 'mp3') { showNotif('ĞœÑƒĞ·Ñ‹ĞºĞ°','Ğ’Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ: '+f.name,'ğŸµ'); return; }
  if (f.ext === 'mp4') { showNotif('Ğ’Ğ¸Ğ´ĞµĞ¾','Ğ’Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ: '+f.name,'ğŸ¬'); return; }
  showNotif('ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº', 'ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°: ' + f.name, 'ğŸ“„');
}

function expNewFolder() {
  const name = prompt('Ğ˜Ğ¼Ñ Ğ¿Ğ°Ğ¿ĞºĞ¸:', 'ĞĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ¿ĞºĞ°');
  if (!name) return;
  if (!FS[expCurrentPath]) FS[expCurrentPath] = [];
  FS[expCurrentPath].push({type:'folder',name});
  saveFS(); renderExpFiles();
  showNotif('ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº','ĞŸĞ°Ğ¿ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°: '+name,'ğŸ“');
}

function expNewFile() {
  const name = prompt('Ğ˜Ğ¼Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°:', 'ĞĞ¾Ğ²Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ».txt');
  if (!name) return;
  if (!FS[expCurrentPath]) FS[expCurrentPath] = [];
  const ext = name.split('.').pop().toLowerCase();
  FS[expCurrentPath].push({type:'file',name,ext,content:''});
  saveFS(); renderExpFiles();
}

function expDelete() {
  const sel = el('exp-files').querySelector('.selected');
  if (!sel) { showNotif('ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº','Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ñ','âŒ'); return; }
  const idx = parseInt(sel.dataset.idx);
  const f = (FS[expCurrentPath]||[])[idx];
  if (!f) return;
  if (!confirm('Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ' + f.name + '?')) return;
  FS[expCurrentPath].splice(idx, 1);
  saveFS(); renderExpFiles();
  showNotif('ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°', f.name + ' ÑƒĞ´Ğ°Ğ»Ñ‘Ğ½', 'ğŸ—‘ï¸');
}

function expRename() {
  const sel = el('exp-files').querySelector('.selected');
  if (!sel) { showNotif('ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ğ¸Ğº','Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ','âŒ'); return; }
  const idx = parseInt(sel.dataset.idx);
  const f = (FS[expCurrentPath]||[])[idx];
  if (!f) return;
  const newName = prompt('ĞĞ¾Ğ²Ğ¾Ğµ Ğ¸Ğ¼Ñ:', f.name);
  if (!newName) return;
  f.name = newName;
  saveFS(); renderExpFiles();
}

function expNav(val) { expGoto(val.toLowerCase().replace(/\s/g,'_')); }
function expNavBack() { expGoto('home'); }
function expNavForward() {}
function expNavUp() { expGoto('home'); }

let expViewMode = 'grid';
function toggleExpView() {
  expViewMode = expViewMode === 'grid' ? 'list' : 'grid';
  el('exp-files').style.display = expViewMode === 'grid' ? 'grid' : 'flex';
  if (expViewMode === 'list') el('exp-files').style.flexDirection = 'column';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NOTEPAD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let npFilename = 'Ğ‘ĞµĞ· Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ';
let npChanged_ = false;
let npFontSize = 14;

function loadNotepadContent() {
  const saved = localStorage.getItem('w12_notepad');
  if (saved) el('np-area').value = saved;
}

function saveNotepadContent() {
  localStorage.setItem('w12_notepad', el('np-area').value);
}

function npChanged() {
  npChanged_ = true;
  el('np-title').textContent = 'Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” ' + npFilename + ' *';
  saveNotepadContent();
  const area = el('np-area');
  const text = area.value;
  const lines = text.substr(0, area.selectionStart).split('\n');
  el('np-ln').textContent = `Ğ¡Ñ‚Ñ€ ${lines.length}, Ğ¡Ñ‚Ğ± ${lines[lines.length-1].length+1}`;
}

function toggleNpMenu(id) {
  document.querySelectorAll('.np-menu-item').forEach(m => { if(m.id!==id) m.classList.remove('open'); });
  el(id).classList.toggle('open');
  event.stopPropagation();
}

function npNew() {
  if (npChanged_ && !confirm('Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ?')) return;
  el('np-area').value = '';
  npFilename = 'Ğ‘ĞµĞ· Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ';
  el('np-title').textContent = 'Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” ' + npFilename;
  npChanged_ = false;
  hideAll();
}

function npOpen() {
  hideAll();
  const name = prompt('ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» (Ğ¸Ğ¼Ñ Ğ¸Ğ· Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²):');
  if (!name) return;
  const f = (FS.documents||[]).find(f=>f.name===name);
  if (f) { el('np-area').value = f.content||''; npFilename = f.name; el('np-title').textContent='Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” '+f.name; }
  else showNotif('Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚','Ğ¤Ğ°Ğ¹Ğ» Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½','âŒ');
}

function npSave() {
  hideAll();
  localStorage.setItem('w12_notepad', el('np-area').value);
  const f = (FS.documents||[]).find(f=>f.name===npFilename);
  if (f) { f.content = el('np-area').value; saveFS(); }
  el('np-title').textContent = 'Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” ' + npFilename;
  npChanged_ = false;
  showNotif('Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚','Ğ¤Ğ°Ğ¹Ğ» ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½: '+npFilename,'ğŸ’¾');
}

function npSaveAs() {
  hideAll();
  const name = prompt('Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ°Ğº:', npFilename.endsWith('.txt') ? npFilename : npFilename+'.txt');
  if (!name) return;
  npFilename = name;
  const ext = name.split('.').pop();
  if (!FS.documents) FS.documents = [];
  const existing = FS.documents.find(f=>f.name===name);
  if (existing) existing.content = el('np-area').value;
  else FS.documents.push({type:'file',name,ext,content:el('np-area').value});
  saveFS();
  localStorage.setItem('w12_notepad', el('np-area').value);
  el('np-title').textContent = 'Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚ â€” ' + name;
  npChanged_ = false;
  showNotif('Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚','Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾: '+name,'ğŸ’¾');
}

function npPrint() { hideAll(); window.print(); }
function npUndo() { document.execCommand('undo'); }
function npCut() { hideAll(); document.execCommand('cut'); }
function npCopy() { hideAll(); document.execCommand('copy'); }
function npPaste() { hideAll(); navigator.clipboard.readText().then(t => { const a=el('np-area'); a.setRangeText(t,a.selectionStart,a.selectionEnd,'end'); npChanged(); }); }
function npSelectAll() { hideAll(); el('np-area').select(); }
function npFind() { hideAll(); const q=prompt('ĞĞ°Ğ¹Ñ‚Ğ¸:'); if(!q)return; const a=el('np-area'); const i=a.value.indexOf(q); if(i>=0){a.setSelectionRange(i,i+q.length);showNotif('Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚','ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾: "'+q+'"','ğŸ”');}else showNotif('Ğ‘Ğ»Ğ¾ĞºĞ½Ğ¾Ñ‚','"'+q+'" Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾','âŒ'); }
function npZoomIn() { npFontSize=Math.min(32,npFontSize+2); el('np-area').style.fontSize=npFontSize+'px'; }
function npZoomOut() { npFontSize=Math.max(8,npFontSize-2); el('np-area').style.fontSize=npFontSize+'px'; }
function npZoomReset() { npFontSize=14; el('np-area').style.fontSize='14px'; }

function npKeydown(e) {
  if ((e.ctrlKey||e.metaKey) && e.key==='s') { e.preventDefault(); npSave(); }
  if ((e.ctrlKey||e.metaKey) && e.key==='n') { e.preventDefault(); npNew(); }
  if ((e.ctrlKey||e.metaKey) && e.key==='f') { e.preventDefault(); npFind(); }
  if ((e.ctrlKey||e.metaKey) && e.key==='+') { e.preventDefault(); npZoomIn(); }
  if ((e.ctrlKey||e.metaKey) && e.key==='-') { e.preventDefault(); npZoomOut(); }
  if (e.key==='Tab') { e.preventDefault(); const a=e.target; const s=a.selectionStart; a.value=a.value.substring(0,s)+'    '+a.value.substring(a.selectionEnd); a.selectionStart=a.selectionEnd=s+4; }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CALCULATOR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let cVal='0', cOper=null, cPrev=null, cNew=true, cMem=0;
const OPS = {'+':'+','-':'âˆ’','*':'Ã—','/':'Ã·'};

function cDisp() { el('c-res').textContent = cVal; }
function cNum(n) {
  if (cNew) { cVal = (n==='.' ? '0.' : n); cNew=false; }
  else { if(n==='.'&&cVal.includes('.'))return; cVal = cVal==='0'&&n!=='.' ? n : cVal+n; }
  if (cVal.length > 14) cVal = parseFloat(cVal).toExponential(6).toString();
  cDisp();
}
function cOp(op) {
  if (cOper && !cNew) { const r=eval(Number(cPrev)+''+cOper+''+Number(cVal)); cPrev=String(r); cVal=cPrev; cDisp(); }
  else cPrev=cVal;
  cOper=op; cNew=true;
  el('c-expr').textContent = cPrev + ' ' + (OPS[op]||op);
}
function cEq() {
  if (!cOper) return;
  try {
    const r = eval(Number(cPrev) + cOper + Number(cVal));
    el('c-expr').textContent = cPrev+(OPS[cOper]||cOper)+cVal+' =';
    cVal = String(Number(r.toFixed(10)));
    cOper=null; cNew=true; cDisp();
  } catch(e) { cVal='ĞÑˆĞ¸Ğ±ĞºĞ°'; cDisp(); cNew=true; }
}
function cFn(fn) {
  if(fn==='C'){cVal='0';cOper=null;cPrev=null;cNew=true;el('c-expr').textContent='';}
  else if(fn==='CE'){cVal='0';cNew=true;}
  else if(fn==='back'){cVal=cVal.length>1?cVal.slice(0,-1):'0';}
  else if(fn==='sign'){cVal=String(-parseFloat(cVal));}
  else if(fn==='mc'){cMem=0;showNotif('ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€','ĞŸĞ°Ğ¼ÑÑ‚ÑŒ Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ°','ğŸ§®');}
  else if(fn==='mr'){cVal=String(cMem);cNew=true;}
  else if(fn==='ms'){mMem=parseFloat(cVal);showNotif('ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€','Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ: '+cVal,'ğŸ§®');}
  else if(fn==='m+'){cMem+=parseFloat(cVal);}
  cDisp();
}
function setCalcMode(mode, btn) {
  document.querySelectorAll('.calc-mode-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  showNotif('ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€','Ğ ĞµĞ¶Ğ¸Ğ¼: '+btn.textContent,'ğŸ§®');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BROWSER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function brHome() {
  el('br-url').value = 'edge://newtab';
  el('br-newtab').style.display = 'flex';
  el('br-title').textContent = 'Microsoft Edge â€” ĞĞ¾Ğ²Ğ°Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°';
}
function brSearch(q) {
  if (!q) return;
  el('br-url').value = 'https://bing.com/search?q=' + encodeURIComponent(q);
  el('br-title').textContent = q + ' - ĞŸĞ¾Ğ¸ÑĞº Bing';
  showNotif('Edge', 'ĞŸĞ¾Ğ¸ÑĞº: ' + q, 'ğŸ”');
}
function brNavigate(url) {
  if (!url.startsWith('http') && !url.startsWith('edge:')) url = 'https://' + url;
  el('br-url').value = url;
  el('br-title').textContent = url;
  showNotif('Edge', 'ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´: ' + url, 'ğŸŒ');
}
function brBack() { showNotif('Edge','ĞĞ°Ğ·Ğ°Ğ´','â†'); }
function brForward() { showNotif('Edge','Ğ’Ğ¿ĞµÑ€Ñ‘Ğ´','â†’'); }
function brRefresh() { showNotif('Edge','Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°','â†»'); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAINT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let paintTool = 'pen', paintColor_ = '#000000', paintSize = 3;
let painting = false, paintLast = null, paintStart_ = null;
let paintCtx = null;

function initPaint() { setTimeout(initPaintCanvas, 200); }

function initPaintCanvas() {
  const canvas = el('paint-canvas');
  const wrap = el('paint-canvas-wrap');
  if (!canvas || !wrap) return;
  const w = wrap.clientWidth || 720;
  const h = wrap.clientHeight || 460;
  if (canvas.width !== w || canvas.height !== h) {
    const imgData = paintCtx ? paintCtx.getImageData(0,0,canvas.width,canvas.height) : null;
    canvas.width = w; canvas.height = h;
    paintCtx = canvas.getContext('2d');
    paintCtx.fillStyle = '#ffffff';
    paintCtx.fillRect(0,0,w,h);
    if (imgData) paintCtx.putImageData(imgData,0,0);
  } else {
    paintCtx = canvas.getContext('2d');
    if (!canvas._inited) { paintCtx.fillStyle='#ffffff'; paintCtx.fillRect(0,0,w,h); canvas._inited=true; }
  }
  canvas.onmousedown = (e) => { painting=true; const pos=getPaintPos(e); paintLast=pos; paintStart_=pos; if(paintTool==='fill')paintFill(pos); };
  canvas.onmousemove = (e) => { if(!painting)return; const pos=getPaintPos(e); doPaint(pos); paintLast=pos; };
  canvas.onmouseup = (e) => { if(!painting)return; painting=false; const pos=getPaintPos(e); finishPaint(pos); paintLast=null; };
  canvas.onmouseleave = () => { if(painting){painting=false;} };
}

function getPaintPos(e) {
  const r = el('paint-canvas').getBoundingClientRect();
  return {x:e.clientX-r.left, y:e.clientY-r.top};
}

function doPaint(pos) {
  if (!paintCtx || !paintLast) return;
  if (paintTool==='pen'||paintTool==='brush') {
    paintCtx.strokeStyle = paintColor_;
    paintCtx.lineWidth = paintTool==='brush' ? paintSize*3 : paintSize;
    paintCtx.lineCap = 'round';
    paintCtx.lineJoin = 'round';
    paintCtx.globalAlpha = paintTool==='brush' ? 0.5 : 1;
    paintCtx.beginPath();
    paintCtx.moveTo(paintLast.x, paintLast.y);
    paintCtx.lineTo(pos.x, pos.y);
    paintCtx.stroke();
    paintCtx.globalAlpha = 1;
  } else if (paintTool==='eraser') {
    paintCtx.clearRect(pos.x-paintSize*2,pos.y-paintSize*2,paintSize*4,paintSize*4);
    paintCtx.fillStyle='#fff';
    paintCtx.fillRect(pos.x-paintSize*2,pos.y-paintSize*2,paintSize*4,paintSize*4);
  }
}

function finishPaint(pos) {
  if (!paintCtx || !paintStart_) return;
  if (paintTool==='line') {
    paintCtx.strokeStyle=paintColor_; paintCtx.lineWidth=paintSize; paintCtx.lineCap='round';
    paintCtx.beginPath(); paintCtx.moveTo(paintStart_.x,paintStart_.y); paintCtx.lineTo(pos.x,pos.y); paintCtx.stroke();
  } else if (paintTool==='rect') {
    paintCtx.strokeStyle=paintColor_; paintCtx.lineWidth=paintSize;
    paintCtx.strokeRect(paintStart_.x,paintStart_.y,pos.x-paintStart_.x,pos.y-paintStart_.y);
  } else if (paintTool==='circle') {
    paintCtx.strokeStyle=paintColor_; paintCtx.lineWidth=paintSize;
    const rx=(pos.x-paintStart_.x)/2, ry=(pos.y-paintStart_.y)/2;
    paintCtx.beginPath(); paintCtx.ellipse(paintStart_.x+rx,paintStart_.y+ry,Math.abs(rx),Math.abs(ry),0,0,Math.PI*2); paintCtx.stroke();
  }
}

function paintFill(pos) {
  paintCtx.fillStyle = paintColor_;
  paintCtx.fillRect(0,0,el('paint-canvas').width,el('paint-canvas').height);
}

function setPaintTool(tool, btn) {
  paintTool=tool;
  document.querySelectorAll('.paint-tool').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active');
}

function setColor(color, btn) {
  paintColor_=color;
  document.querySelectorAll('.paint-color').forEach(c=>c.classList.remove('active'));
  btn.classList.add('active');
}

function paintClear() {
  if (!paintCtx) return;
  paintCtx.fillStyle='#ffffff';
  paintCtx.fillRect(0,0,el('paint-canvas').width,el('paint-canvas').height);
}

function paintSave() {
  const link = document.createElement('a');
  link.download = 'Ğ Ğ¸ÑÑƒĞ½Ğ¾Ğº.png';
  link.href = el('paint-canvas').toDataURL();
  link.click();
  showNotif('Paint','Ğ Ğ¸ÑÑƒĞ½Ğ¾Ğº ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½','ğŸ’¾');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TASK MANAGER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let tmInterval = null;
const processes = [
  {name:'System',pid:4,cpu:0.1,ram:12},
  {name:'explorer.exe',pid:1234,cpu:0.8,ram:45},
  {name:'svchost.exe',pid:890,cpu:0.3,ram:22},
  {name:'winlogon.exe',pid:456,cpu:0.1,ram:8},
  {name:'RuntimeBroker.exe',pid:2048,cpu:0.5,ram:30},
  {name:'SearchHost.exe',pid:3012,cpu:1.2,ram:55},
  {name:'MsMpEng.exe',pid:2200,cpu:0.7,ram:40},
  {name:'dwm.exe',pid:780,cpu:2.1,ram:65},
  {name:'conhost.exe',pid:3456,cpu:0.1,ram:5},
];

function tmTab(tab, btn) {
  document.querySelectorAll('.tm-tab').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active');
  tmRender(tab);
}

function tmRender(tab) {
  const body = el('tm-body');
  if (!body) return;
  if (tab === 'processes') {
    const rows = processes.map(p => {
      const cpu = (p.cpu + Math.random()*0.5).toFixed(1);
      const ram = p.ram + Math.floor(Math.random()*5);
      return `<tr><td>${p.name}</td><td>${p.pid}</td><td><div class="tm-bar"><div class="tm-fill" style="width:${Math.min(cpu*10,100)}%;background:${cpu>5?'#e74c3c':'var(--accent)'}"></div></div>${cpu}%</td><td>${ram} MB</td><td><span style="color:#2ecc71;font-size:11px;">âœ“ Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚</span></td></tr>`;
    }).join('');
    body.innerHTML = `<table class="tm-table"><tr><th>Ğ˜Ğ¼Ñ</th><th>PID</th><th>Ğ¦ĞŸ</th><th>ĞĞ—Ğ£</th><th>Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ</th></tr>${rows}</table>`;
  } else if (tab === 'performance') {
    const cpuPct = (Math.random()*20+5).toFixed(0);
    const ramPct = (Math.random()*30+40).toFixed(0);
    body.innerHTML = `
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:8px;">
          <div style="font-size:14px;color:var(--text2);">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¦ĞŸ</div>
          <div style="font-size:36px;font-weight:200;">${cpuPct}%</div>
          <div class="tm-bar" style="width:100%;"><div class="tm-fill" style="width:${cpuPct}%"></div></div>
          <div style="font-size:12px;color:var(--text2);">Intel Core i9 Â· 12 ÑĞ´ĞµÑ€ Â· 3.6 Ğ“Ğ“Ñ†</div>
        </div>
        <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:8px;">
          <div style="font-size:14px;color:var(--text2);">ĞŸĞ°Ğ¼ÑÑ‚ÑŒ (ĞĞ—Ğ£)</div>
          <div style="font-size:36px;font-weight:200;">${ramPct}%</div>
          <div class="tm-bar" style="width:100%;"><div class="tm-fill" style="width:${ramPct}%;background:#9b59b6"></div></div>
          <div style="font-size:12px;color:var(--text2);">${(parseInt(ramPct)*32/100).toFixed(1)} Ğ“Ğ‘ Ğ¸Ğ· 32 Ğ“Ğ‘</div>
        </div>
        <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:8px;">
          <div style="font-size:14px;color:var(--text2);">Ğ”Ğ¸ÑĞº C:</div>
          <div style="font-size:36px;font-weight:200;">2%</div>
          <div class="tm-bar" style="width:100%;"><div class="tm-fill" style="width:2%;background:#f1c40f"></div></div>
          <div style="font-size:12px;color:var(--text2);">SSD NVMe Â· 512 Ğ“Ğ‘</div>
        </div>
        <div class="set-card" style="flex-direction:column;align-items:flex-start;gap:8px;">
          <div style="font-size:14px;color:var(--text2);">Ğ¡ĞµÑ‚ÑŒ</div>
          <div style="font-size:36px;font-weight:200;">â†“ 12 ĞœĞ‘/Ñ</div>
          <div class="tm-bar" style="width:100%;"><div class="tm-fill" style="width:24%;background:#2ecc71"></div></div>
          <div style="font-size:12px;color:var(--text2);">Wi-Fi Â· 100 ĞœĞ±Ğ¸Ñ‚/Ñ</div>
        </div>
      </div>`;
  } else if (tab === 'startup') {
    const items = [
      {name:'Microsoft Edge',status:'Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½',impact:'ĞĞ¸Ğ·ĞºĞ¸Ğ¹'},
      {name:'Windows Security',status:'Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½',impact:'Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹'},
      {name:'OneDrive',status:'Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½',impact:'Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹'},
      {name:'Discord',status:'Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½',impact:'â€”'},
      {name:'Skype',status:'Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½',impact:'â€”'},
    ];
    const rows = items.map(i=>`<tr><td>${i.name}</td><td style="color:${i.status==='Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½'?'#2ecc71':'var(--text2)'};">${i.status}</td><td>${i.impact}</td><td><div class="toggle ${i.status==='Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½'?'on':''}" onclick="this.classList.toggle('on')"></div></td></tr>`).join('');
    body.innerHTML = `<table class="tm-table"><tr><th>ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°</th><th>Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ</th><th>Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ</th><th></th></tr>${rows}</table>`;
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TASKBAR BUTTONS CLICK (single click)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.querySelectorAll('.tb-btn').forEach(btn => {
  btn.onclick = (e) => {
    const id = btn.id;
    if (!id) return;
    const app = id.replace('tb-','');
    if (!APP_MAP[app]) return;
    const w = el(APP_MAP[app]);
    if (!w) return;
    if (w.style.display === 'none' || w.style.display === '') {
      openApp(app);
    } else {
      // toggle minimize
      w.style.display = 'none';
      btn.classList.remove('active-win');
    }
    e.stopPropagation();
  };
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// KEYBOARD SHORTCUTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.addEventListener('keydown', e => {
  if (e.key==='Escape') hideAll();
  if (e.ctrlKey && e.shiftKey && e.key==='Escape') { openApp('taskman'); }
  if (e.key==='F5') { ctxRefresh(); }
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SAVE & RESTORE SETTINGS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('beforeunload', () => {
  saveNotepadContent();
  localStorage.setItem('w12_bright', el('bright-sl').value);
  localStorage.setItem('w12_vol', el('vol-sl').value);
});

(function restoreSettings() {
  const br = localStorage.getItem('w12_bright');
  if (br) { el('bright-sl').value=br; setBright(br); }
  const vl = localStorage.getItem('w12_vol');
  if (vl) { el('vol-sl').value=vl; setVol(vl); }
  const ac = localStorage.getItem('w12_accent');
  if (ac) document.documentElement.style.setProperty('--accent', ac);
})();
</script>
</body>
</html>
